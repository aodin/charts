<!DOCTYPE html>
<html>
  <head>
    <title>@aodin/charts - OHLCV</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type="text/css">
body {
  font-family: sans-serif;
  color: white;
  background-color: black;
}
#title {
  display: flex;
  flex: columns;
  align-items: center;
  justify-content: start;
}
#title button {
  margin-left: 10px;
}
#title h1 {
  font-weight: normal;
  margin: 20px 0 10px;
}
#hud p {
  margin-bottom: 5px;
}
#hud div {
  height: 20px;
}
@media (max-width: 600px) {
  #title h1 {
    font-size: 24px;
    margin: 10px;
  }
  text {
    font-size: 10px !important;
  }
  #hud {
    font-size: 10px !important;
  }
}
#chart .domain {
  display: none;
}
.tick text {
  font-size: 13px;
}
.volume .tick text {
  font-size: 11px;
}
.x .tick text {
  font-size: 12px;
}
#hud .up {
  color: #1ebc8c;
}
#hud .down {
  color: #f34d27;
}

.bar.up {
  stroke: #1ebc8c;
}
.bar.even {
  stroke: #b2b2b2;
}
.bar.down {
  stroke: #f34d27;
}
.volume .bar {
  stroke: #666;
}
.spotlight {
  fill: #bbb;
  opacity: 0.2;
}
.wick {
  opacity: 0.4;
}
#chart {
  user-select: none;
  -webkit-user-select: none;
}
/* Brush */
.overlay {
    fill: none;
    pointer-events: all;
}
.brush .selection {
    fill: #777;
    fill-opacity: 0.3;
    stroke: #fff;
    shape-rendering: crispEdges;
}
    </style>
  </head>
  <body>
    <div id="title">
      <h1>Candlestick</h1>
      <button id="log">Log</button>
      <button id="linear">Linear</button>
      <button id="reset">Reset</button>
      <div id="hud"></div>
    </div>
    <div id="chart"></div>
    <script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script>
    <script src="../dist/candlestick.min.js"></script>
    <template id="hudTemplate">
      <p class="date"></p>
      <div>
        <span class="symbol"></span>
        <strong class="delta"></strong>
      </div>
    </template>
    <script type="text/javascript">
const data = [
  ["2024-04-25", 8.62, 8.71, 8.46, 8.52, 21761398],
  ["2024-04-26", 8.55, 9.04, 8.5, 9.04, 28206182],
  ["2024-04-29", 9.21, 9.41, 9.02, 9.38, 30495107],
  ["2024-04-30", 9.11, 9.2, 8.9, 8.9, 22811245],
  ["2024-05-01", 8.85, 9.55, 8.84, 9.21, 27659792],
  ["2024-05-02", 9.42, 10.13, 9.215, 9.83, 54756081],
  ["2024-05-03", 10.13, 10.408, 9.9, 10.07, 47137960],
  ["2024-05-06", 10.2, 10.495, 10.08, 10.33, 30743169],
  ["2024-05-07", 11.14, 11.215, 10.07, 10.25, 98048000],
  ["2024-05-08", 9.51, 10.28, 9.25, 10.27, 67500909],
  ["2024-05-09", 10.27, 10.47, 10.04, 10.27, 31404813],
  ["2024-05-10", 10.2, 10.41, 9.84, 9.99, 29142689],
  ["2024-05-13", 10.04, 11.19, 10.025, 10.9, 65277004],
  ["2024-05-14", 11.48, 12.1299, 11.11, 11.19, 60947936],
  ["2024-05-15", 11.06, 11.14, 10.14, 10.2, 61602771],
  ["2024-05-16", 10.24, 10.41, 10.08, 10.13, 34737330],
  ["2024-05-17", 10.07, 10.51, 9.89, 10.5, 23862330],
  ["2024-05-20", 10.43, 10.6, 10.21, 10.28, 21619789],
  ["2024-05-21", 10.24, 10.35, 9.98, 10.05, 23559105],
  ["2024-05-22", 10.02, 10.74, 9.94, 10.7, 37613011],
  ["2024-05-23", 10.55, 10.5501, 9.89, 9.95, 37137021],
  ["2024-05-24", 10.06, 10.46, 10.02, 10.44, 254715320],
];

const crypto = [{"date":"2019-06-23","open":268.5649923357,"high":318.4797853416,"low":261.480030147,"close":306.9265692836,"volume":13663534130},{"date":"2019-06-30","open":306.6741872017,"high":363.4567691784,"low":275.0030842521,"close":290.055490973,"volume":19738559119},{"date":"2019-07-07","open":290.0166686467,"high":310.8282181527,"low":271.4477726823,"close":306.5590532176,"volume":13432852719},{"date":"2019-07-14","open":306.6047240224,"high":318.4405732703,"low":223.6069468283,"close":226.1777056829,"volume":13687649856},{"date":"2019-07-21","open":226.195419625,"high":235.8396370771,"low":192.7305789894,"close":225.4180846324,"volume":13802742280},{"date":"2019-07-28","open":225.4407982339,"high":227.5011664204,"low":197.9672747797,"close":211.2318601687,"volume":9639561189},{"date":"2019-08-04","open":211.3112787153,"high":224.2521887528,"low":205.0739195753,"close":222.7913189173,"volume":7808226107},{"date":"2019-08-11","open":222.6879958621,"high":239.1680140681,"low":200.7785868185,"close":216.3003165589,"volume":9576439390},{"date":"2019-08-18","open":216.4313168121,"high":216.4691784213,"low":174.6891320131,"close":194.5573713108,"volume":8496630729},{"date":"2019-08-25","open":194.5715563834,"high":203.6647208104,"low":180.8781958615,"close":186.6222667112,"volume":7997272130},{"date":"2019-09-01","open":186.567431857,"high":194.1106732431,"low":164.1741621946,"close":171.3213608132,"volume":7064207775},{"date":"2019-09-08","open":171.4237567321,"high":184.2225251861,"low":167.0845078328,"close":181.5100905071,"volume":7138547958},{"date":"2019-09-15","open":181.6488771458,"high":190.8705276577,"low":174.4937538682,"close":189.1529521669,"volume":6453094197},{"date":"2019-09-22","open":189.3155373293,"high":223.9345289322,"low":188.6205381366,"close":211.2589639047,"volume":9868713699},{"date":"2019-09-29","open":211.1847308759,"high":211.7237262774,"low":153.501845881,"close":169.4584278854,"volume":8956575555},{"date":"2019-10-06","open":169.3776456578,"high":185.7790569865,"low":165.4543122749,"close":170.261390489,"volume":5884515495},{"date":"2019-10-13","open":170.3028724737,"high":196.7247078574,"low":168.7711865862,"close":181.1417163966,"volume":6945490449},{"date":"2019-10-20","open":181.3503974798,"high":188.3689365151,"low":168.9174799671,"close":175.5738134517,"volume":5585993902},{"date":"2019-10-27","open":175.4393228092,"high":198.3001286263,"low":154.2679099056,"close":184.154894864,"volume":9868710138},{"date":"2019-11-03","open":184.3673796561,"high":192.8077618052,"low":178.1533938089,"close":181.6995948272,"volume":7144377797},{"date":"2019-11-10","open":181.6575348619,"high":194.3494423043,"low":180.3056562553,"close":188.9695218162,"volume":7276238485},{"date":"2019-11-17","open":188.9446374945,"high":190.4036729957,"low":177.4230247547,"close":183.8424378092,"volume":5673272328},{"date":"2019-11-24","open":183.9682388763,"high":184.0513835883,"low":138.3769405503,"close":140.0139920775,"volume":7355128804},{"date":"2019-12-01","open":140.1351255757,"high":157.5455674123,"low":131.7577307161,"close":151.0132411249,"volume":6313706942},{"date":"2019-12-08","open":150.9511298227,"high":152.0385491501,"low":143.5512358571,"close":150.643114421,"volume":4360811662},{"date":"2019-12-15","open":150.6165207,"high":151.4855016797,"low":139.4179384893,"close":142.428032173,"volume":3980737592},{"date":"2019-12-22","open":142.3815906617,"high":142.8277842663,"low":116.5359762843,"close":132.3660987593,"volume":6314488801},{"date":"2019-12-29","open":132.3616929579,"high":137.6894136301,"low":122.8709326825,"close":134.3345105271,"volume":5652759281},{"date":"2020-01-05","open":134.3343278669,"high":138.1338355326,"low":125.6653917466,"close":135.3695677614,"volume":5747131952},{"date":"2020-01-12","open":135.333234965,"high":147.8994257798,"low":134.9091500772,"close":146.3479723799,"volume":7297894977},{"date":"2020-01-19","open":146.3460635822,"high":179.1842771238,"low":142.2232933041,"close":166.9345195934,"volume":12532344932},{"date":"2020-01-26","open":166.8122994082,"high":170.9396002544,"low":155.3377871709,"close":167.4095206056,"volume":7628533489},{"date":"2020-02-02","open":167.5471659812,"high":193.3221255939,"low":165.0686509018,"close":188.3894877171,"volume":11110903216},{"date":"2020-02-09","open":188.3091842541,"high":230.575980334,"low":184.5625807443,"close":228.8224350548,"volume":15107225877},{"date":"2020-02-16","open":228.7513346699,"high":288.9379750906,"low":216.7814439617,"close":259.3669628141,"volume":27284877052},{"date":"2020-02-23","open":259.4683860509,"high":286.398753593,"low":243.0691451076,"close":275.6492634632,"volume":27195473778},{"date":"2020-03-01","open":275.5709005165,"high":277.8730477739,"low":209.9575000435,"close":217.8403516236,"volume":23590936672},{"date":"2020-03-08","open":217.6904076745,"high":252.3149886854,"low":196.3608736459,"close":199.0484924676,"volume":17703426277},{"date":"2020-03-15","open":199.235667382,"high":208.6100182705,"low":90.2899441296,"close":123.6955485185,"volume":22434020773},{"date":"2020-03-22","open":123.6615606963,"high":152.3721289385,"low":101.4062042311,"close":122.3881454608,"volume":14026546954},{"date":"2020-03-29","open":122.3305954041,"high":143.5111679166,"low":119.7681929314,"close":124.5168821639,"volume":11191373684},{"date":"2020-04-05","open":124.455445888,"high":150.2819455671,"low":124.1786078112,"close":142.7535604699,"volume":9382966825},{"date":"2020-04-12","open":142.772094757,"high":176.3894363212,"low":142.772094757,"close":158.8324956186,"volume":14903344011},{"date":"2020-04-19","open":158.7396313336,"high":190.1495655633,"low":149.0072943492,"close":180.2786226079,"volume":15083592517},{"date":"2020-04-26","open":180.3430228061,"high":199.8769516739,"low":167.555414482,"close":197.548899081,"volume":17033822588},{"date":"2020-05-03","open":197.7066307383,"high":227.1735838638,"low":190.6672782665,"close":210.0237706063,"volume":20787413199},{"date":"2020-05-10","open":210.1541450485,"high":216.771699147,"low":180.7858014541,"close":187.812052946,"volume":19018748083},{"date":"2020-05-17","open":187.7847446063,"high":209.7294897403,"low":176.9885652578,"close":206.9439311255,"volume":13729543477},{"date":"2020-05-24","open":206.9292592106,"high":216.9048608097,"low":191.6790015015,"close":199.8373753278,"volume":10852869493},{"date":"2020-05-31","open":200.0121484843,"high":247.1875144727,"low":197.277758487,"close":231.619601639,"volume":11042209988},{"date":"2020-06-07","open":230.7347409854,"high":253.1626486912,"low":225.4586086286,"close":244.7099662063,"volume":12530629335},{"date":"2020-06-14","open":244.7034445245,"high":250.124812809,"low":225.7766124287,"close":231.5616430656,"volume":10646833247},{"date":"2020-06-21","open":231.5816445246,"high":236.9944714695,"low":218.5674125015,"close":227.823558589,"volume":10032672039},{"date":"2020-06-28","open":227.8656226233,"high":249.1273871869,"low":216.3459070905,"close":224.8628944386,"volume":9007548623},{"date":"2020-07-05","open":224.955603212,"high":233.3986624661,"low":221.1860915879,"close":227.7285098767,"volume":6086417147},{"date":"2020-07-12","open":227.8123895453,"high":248.9156053638,"low":226.9318205359,"close":242.9107628429,"volume":7320043989},{"date":"2020-07-19","open":242.8806456495,"high":245.0220211044,"low":230.2621618968,"close":239.140338208,"volume":5047507363},{"date":"2020-07-26","open":239.3306781133,"high":319.6872288224,"low":234.5642154745,"close":311.3652424338,"volume":10836776029},{"date":"2020-08-02","open":311.4134278863,"high":414.7909005857,"low":306.6029159423,"close":372.2383425916,"volume":21642043939},{"date":"2020-08-09","open":372.2400144297,"high":407.4192392283,"low":366.3191674558,"close":390.2247397347,"volume":16137549116},{"date":"2020-08-16","open":390.2323338785,"high":444.4472731749,"low":366.8357695179,"close":433.8018819995,"volume":17180094209},{"date":"2020-08-23","open":433.7513331786,"high":446.4604865475,"low":379.934274932,"close":390.8671488518,"volume":13536967187},{"date":"2020-08-30","open":390.9970328331,"high":429.4814149395,"low":370.5410923704,"close":429.0054252124,"volume":12343711174},{"date":"2020-09-06","open":429.0589789059,"high":488.5990368864,"low":311.6227376086,"close":352.7124708866,"volume":29340830831},{"date":"2020-09-13","open":352.8897552087,"high":389.5407956893,"low":324.5430116355,"close":366.4183246452,"volume":13442689923},{"date":"2020-09-20","open":366.417553717,"high":394.1833661628,"low":355.3694341894,"close":370.8127584961,"volume":12298939439},{"date":"2020-09-27","open":371.0097763557,"high":375.946211829,"low":314.9192599618,"close":357.5684529005,"volume":10741357324},{"date":"2020-10-04","open":357.6947994364,"high":368.9205451683,"low":335.2127686393,"close":352.5012399139,"volume":7873647673},{"date":"2020-10-11","open":352.5763811422,"high":378.2601061904,"low":333.4116339245,"close":374.4629437158,"volume":7862272874},{"date":"2020-10-18","open":374.3664806239,"high":395.0791574483,"low":362.0041209519,"close":378.5097609937,"volume":8472139283},{"date":"2020-10-25","open":378.5068327467,"high":421.0010817383,"low":366.754318758,"close":406.2027667838,"volume":10522915899},{"date":"2020-11-01","open":406.1876248439,"high":411.4067574359,"low":374.652328983,"close":396.6206550612,"volume":9125565210},{"date":"2020-11-08","open":396.4990164112,"high":468.6155007735,"low":370.8940016386,"close":454.8431697064,"volume":15027593038},{"date":"2020-11-15","open":454.9092908067,"high":478.20008338,"low":435.2568134959,"close":448.5724720676,"volume":12975117006},{"date":"2020-11-22","open":448.4702016447,"high":581.424450054,"low":446.1880097372,"close":560.5265445281,"volume":19331521943},{"date":"2020-11-29","open":559.5675597954,"high":622.0868492504,"low":484.1763076518,"close":576.4393518685,"volume":26849101159},{"date":"2020-12-06","open":576.5474731652,"high":636.3913330114,"low":561.3821351199,"close":602.4682000476,"volume":20135608411},{"date":"2020-12-13","open":602.2553282713,"high":602.7869603541,"low":530.8323736293,"close":590.4551815648,"volume":12309992840},{"date":"2020-12-20","open":590.5127168336,"high":676.5365559534,"low":575.8940304979,"close":638.2932996591,"volume":19632357471},{"date":"2020-12-27","open":638.2178213013,"high":713.888007598,"low":553.0786619076,"close":683.670577749,"volume":22516569230},{"date":"2021-01-03","open":684.1594672772,"high":1008.1809498511,"low":682.8272793626,"close":977.7564434087,"volume":34025407895},{"date":"2021-01-10","open":978.3163617083,"high":1349.9826801411,"low":890.5488940973,"close":1255.7418062646,"volume":88285900894},{"date":"2021-01-17","open":1255.3416579384,"high":1291.6228337516,"low":912.90950537,"close":1233.2950224476,"volume":72983544470},{"date":"2021-01-24","open":1233.0594688091,"high":1436.9329433729,"low":1041.2147052555,"close":1393.9272491302,"volume":73118209616},{"date":"2021-01-31","open":1394.1612282564,"high":1474.4885166911,"low":1211.9537647904,"close":1314.2999456459,"volume":71079718111},{"date":"2021-02-07","open":1313.5776366685,"high":1761.936917997,"low":1273.9980987437,"close":1615.2205362015,"volume":72864245022},{"date":"2021-02-14","open":1615.2201330214,"high":1875.1254293676,"low":1569.4851545324,"close":1803.9673078698,"volume":65598252535},{"date":"2021-02-21","open":1803.3316571141,"high":2039.456035508,"low":1664.0613700054,"close":1935.3612164837,"volume":62571993325},{"date":"2021-02-28","open":1935.7610565192,"high":1936.9768117396,"low":1295.3462222311,"close":1421.0822923748,"volume":77394312334},{"date":"2021-03-07","open":1420.5958974899,"high":1733.3624895283,"low":1413.7146389414,"close":1725.9232900132,"volume":49339827660},{"date":"2021-03-14","open":1726.5599602027,"high":1941.6173182667,"low":1668.2118848824,"close":1848.6169517471,"volume":52260015977},{"date":"2021-03-21","open":1855.1163448545,"high":1889.4301852135,"low":1716.6029486379,"close":1785.3048946552,"volume":70457228009},{"date":"2021-03-28","open":1785.2957241224,"high":1811.1278045626,"low":1539.714717256,"close":1686.6463628337,"volume":76402051108},{"date":"2021-04-04","open":1686.9677928198,"high":2143.539298165,"low":1676.9668240188,"close":2076.3387066997,"volume":99991620383},{"date":"2021-04-11","open":2076.8011016225,"high":2195.0136879762,"low":1939.8068709246,"close":2151.5003377211,"volume":90952417649},{"date":"2021-04-18","open":2151.0898347819,"high":2545.8917382356,"low":1973.2420664449,"close":2240.7131408869,"volume":108561778961},{"date":"2021-04-25","open":2240.4443369546,"high":2642.6765773902,"low":2056.8638368468,"close":2320.9967387815,"volume":132143396863},{"date":"2021-05-02","open":2321.8621291283,"high":2985.3750030475,"low":2307.8230348801,"close":2952.152988666,"volume":114151250629},{"date":"2021-05-09","open":2951.4892532154,"high":3980.8157436676,"low":2951.4128700037,"close":3929.0687285892,"volume":175691267464},{"date":"2021-05-16","open":3930.3979212421,"high":4373.2410619171,"low":3353.6113512314,"close":3585.8315219667,"volume":206667118130},{"date":"2021-05-23","open":3584.1693117273,"high":3589.32922227,"low":1737.5431146722,"close":2102.5275286541,"volume":199013601008},{"date":"2021-05-30","open":2103.5777314989,"high":2909.6904258129,"low":2086.7119172101,"close":2389.139021828,"volume":141913605268},{"date":"2021-06-06","open":2387.8141315417,"high":2889.161719944,"low":2281.8638096489,"close":2711.6510475414,"volume":103320304404},{"date":"2021-06-13","open":2711.5257132874,"high":2846.473181277,"low":2262.3215078876,"close":2508.6102729184,"volume":108528020239},{"date":"2021-06-20","open":2508.9581195422,"high":2639.3729777243,"low":2046.362417651,"close":2244.0724450426,"volume":80367983288},{"date":"2021-06-27","open":2243.4928034001,"high":2257.8892691066,"low":1703.9723207587,"close":1980.5924226938,"volume":91240498236},{"date":"2021-07-04","open":1982.200632338,"high":2385.3521589779,"low":1962.2075135803,"close":2323.2339329205,"volume":81040845880},{"date":"2021-07-11","open":2321.9639352362,"high":2406.0673567918,"low":2050.369218727,"close":2139.5391159548,"volume":64523873234},{"date":"2021-07-18","open":2140.1127910307,"high":2168.1195387463,"low":1852.3202858196,"close":1892.3772855671,"volume":40069564332},{"date":"2021-07-25","open":1893.1491436734,"high":2198.5763439835,"low":1721.2602196573,"close":2192.4822626162,"volume":43257930278},{"date":"2021-08-01","open":2192.099935161,"high":2696.3424691248,"low":2153.9493510679,"close":2558.4875141968,"volume":58772101535},{"date":"2021-08-08","open":2556.9626464364,"high":3187.2820400179,"low":2447.9327254822,"close":3014.1162754158,"volume":78067250204},{"date":"2021-08-15","open":3013.0033834104,"high":3329.2719596945,"low":2900.5628104919,"close":3310.8799903002,"volume":71964422045},{"date":"2021-08-22","open":3311.0335385613,"high":3336.4131231206,"low":2956.1147824305,"close":3241.5889693983,"volume":58903037839},{"date":"2021-08-29","open":3241.3987925786,"high":3376.4878488865,"low":3057.3495687218,"close":3225.1134803192,"volume":49342338185},{"date":"2021-09-05","open":3226.022911189,"high":4022.4595429617,"low":3147.7529197112,"close":3952.9269151242,"volume":71828248959},{"date":"2021-09-12","open":3952.3550729704,"high":3968.8004980843,"low":3038.4249227475,"close":3406.2403101317,"volume":77516942533},{"date":"2021-09-19","open":3405.6555276431,"high":3671.7936521431,"low":3117.2292770187,"close":3328.6713023926,"volume":53609951982},{"date":"2021-09-26","open":3329.4421818803,"high":3343.5848404698,"low":2664.5816021464,"close":3061.4470554788,"volume":72924759404},{"date":"2021-10-03","open":3060.7111283839,"high":3486.2486091343,"low":2786.6504021416,"close":3419.4745951347,"volume":53975703345},{"date":"2021-10-10","open":3419.3464446156,"high":3669.2460714579,"low":3281.7034876794,"close":3417.8907829436,"volume":52046127954},{"date":"2021-10-17","open":3416.7945349586,"high":3966.2411190846,"low":3380.5904470201,"close":3846.2026940577,"volume":58052033072},{"date":"2021-10-24","open":3847.3485809196,"high":4371.5742213798,"low":3685.0418302642,"close":4082.3646849168,"volume":64454829040},{"date":"2021-10-31","open":4083.0471950841,"high":4458.5009807833,"low":3901.60544872,"close":4290.467100137,"volume":69094471262},{"date":"2021-11-07","open":4290.7015015169,"high":4664.7680604716,"low":4162.7856204658,"close":4615.4085623965,"volume":57508162928},{"date":"2021-11-14","open":4616.7770820464,"high":4864.2134742577,"low":4472.7272640094,"close":4627.2401885517,"volume":60384809225},{"date":"2021-11-21","open":4626.8402750391,"high":4770.7217208378,"low":3960.9708420705,"close":4266.0960627065,"volume":65290279116},{"date":"2021-11-28","open":4266.0263467435,"high":4550.9653265997,"low":3929.7937979947,"close":4297.4793474703,"volume":61971852326},{"date":"2021-12-05","open":4298.0877967158,"high":4782.1671773653,"low":3508.7249921679,"close":4201.0277476685,"volume":87671682596},{"date":"2021-12-12","open":4201.565910818,"high":4482.5502250983,"low":3841.3081731646,"close":4134.9502450653,"volume":69392243004},{"date":"2021-12-19","open":4133.3567823732,"high":4143.0008168145,"low":3658.78929197,"close":3923.7225552736,"volume":68622116757},{"date":"2021-12-26","open":3923.9764142606,"high":4149.7557046359,"low":3757.9956770116,"close":4064.9156524316,"volume":46799271449},{"date":"2022-01-02","open":4065.4363279801,"high":4126.8425006667,"low":3589.1504549468,"close":3830.5931912399,"volume":41355752531},{"date":"2022-01-09","open":3829.5309546711,"high":3889.6387223805,"low":3001.5422926024,"close":3151.2478821991,"volume":52860669045},{"date":"2022-01-16","open":3151.633566755,"high":3409.8128639005,"low":2933.322672356,"close":3349.6931328475,"volume":40636839924},{"date":"2022-01-23","open":3349.4968928966,"high":3358.6663054754,"low":2312.3713520544,"close":2541.587237298,"volume":58841938543},{"date":"2022-01-30","open":2541.5157930831,"high":2714.8231874313,"low":2161.4195051505,"close":2603.4400283608,"volume":54991809015},{"date":"2022-02-06","open":2603.6292204625,"high":3071.0692209436,"low":2483.6490778038,"close":3058.4803285046,"volume":43644229879},{"date":"2022-02-13","open":3058.2935391401,"high":3280.0034111429,"low":2839.576271749,"close":2871.7318517783,"volume":46063337869},{"date":"2022-02-20","open":2871.6038858407,"high":3195.1466761915,"low":2577.930201478,"close":2622.3767717097,"volume":41394408737},{"date":"2022-02-27","open":2622.4497524831,"high":2855.2359344227,"low":2302.5707509411,"close":2618.3172072185,"volume":57727659602},{"date":"2022-03-06","open":2618.0055609732,"high":3036.9316595274,"low":2546.3643429481,"close":2550.5878336555,"volume":45678264675},{"date":"2022-03-13","open":2550.2940772581,"high":2771.939391196,"low":2446.3792256481,"close":2517.2262277598,"volume":38451849093},{"date":"2022-03-20","open":2516.1920014271,"high":2984.5284646152,"low":2501.688374475,"close":2861.7613762666,"volume":39878166694},{"date":"2022-03-27","open":2862.1826163675,"high":3296.8214143201,"low":2833.9800692427,"close":3296.8214143201,"volume":50260707840},{"date":"2022-04-03","open":3296.1750548282,"high":3579.6528097211,"low":3217.1110842376,"close":3521.790316084,"volume":57780432238},{"date":"2022-04-10","open":3522.4958059806,"high":3551.5842286493,"low":3143.5604994745,"close":3198.8819197256,"volume":53178429936},{"date":"2022-04-17","open":3201.907914053,"high":3213.8867660538,"low":2952.7184878643,"close":2989.3180390486,"volume":48930357918},{"date":"2022-04-24","open":2988.3827153679,"high":3177.4005767283,"low":2889.0724084291,"close":2922.3169245971,"volume":47885858825},{"date":"2022-05-01","open":2922.0943779873,"high":3031.1866497945,"low":2718.4527577825,"close":2825.5976249332,"volume":52125650996},{"date":"2022-05-08","open":2825.6101841842,"high":2962.983027379,"low":2492.0770210854,"close":2521.8734033709,"volume":51713300538},{"date":"2022-05-15","open":2520.6812910273,"high":2528.6229810395,"low":1705.5214008227,"close":2144.9381954773,"volume":89069407275},{"date":"2022-05-22","open":2144.2736627594,"high":2144.2736627594,"low":1901.6982218696,"close":2040.9970361345,"volume":38925363739},{"date":"2022-05-29","open":2040.2220178728,"high":2083.578322947,"low":1709.8960736727,"close":1812.3867795349,"volume":43392359646},{"date":"2022-06-05","open":1812.6447942846,"high":2011.1816100311,"low":1739.418866516,"close":1805.6916428296,"volume":39329426897},{"date":"2022-06-12","open":1804.9054739543,"high":1918.2904826275,"low":1429.5990051464,"close":1435.0661406044,"volume":53675093863},{"date":"2022-06-19","open":1434.5877391752,"high":1450.5917653605,"low":885.1545889705,"close":1127.3958045589,"volume":78815013584},{"date":"2022-06-26","open":1126.7777725854,"high":1276.4525420536,"low":1043.5125923778,"close":1197.7343148011,"volume":41429595566},{"date":"2022-07-03","open":1197.3916927606,"high":1236.7546368283,"low":1000.2168593745,"close":1073.4462182809,"volume":37984373094},{"date":"2022-07-10","open":1073.1278100273,"high":1274.0699674922,"low":1045.2116695633,"close":1167.146624403,"volume":36926017580},{"date":"2022-07-17","open":1167.0722940154,"high":1383.9548989043,"low":1011.9661308338,"close":1337.6225889862,"volume":42931001517},{"date":"2022-07-24","open":1338.0761550881,"high":1663.5394761991,"low":1336.9677565307,"close":1598.0230228899,"volume":60190419604},{"date":"2022-07-31","open":1597.9452505317,"high":1783.7154454222,"low":1359.3147157002,"close":1678.966941782,"volume":53937242998},{"date":"2022-08-07","open":1678.7646693115,"high":1748.4986022386,"low":1561.5788590771,"close":1700.6344723699,"volume":40042851191},{"date":"2022-08-14","open":1700.8051402717,"high":2026.1539488951,"low":1661.7150104547,"close":1935.3930044792,"volume":53563146392},{"date":"2022-08-21","open":1935.9311733998,"high":2010.8446908389,"low":1529.0844899534,"close":1618.1642909475,"volume":51649371399},{"date":"2022-08-28","open":1617.9419482394,"high":1720.3199977661,"low":1424.8377375296,"close":1426.2377090144,"volume":52258376011},{"date":"2022-09-04","open":1426.3530748638,"high":1646.2174618194,"low":1424.4790647112,"close":1579.1553056196,"volume":48535262649},{"date":"2022-09-11","open":1579.0672269117,"high":1787.7141388258,"low":1493.6306563319,"close":1766.1687537178,"volume":53054531362},{"date":"2022-09-18","open":1765.3125348309,"high":1780.8634636181,"low":1326.7005655011,"close":1335.2681636384,"volume":59120061522},{"date":"2022-09-25","open":1335.1111249033,"high":1396.4978028253,"low":1223.5545317706,"close":1294.1516206647,"volume":54447917489},{"date":"2022-10-02","open":1294.455298095,"high":1399.7381791451,"low":1262.3933506659,"close":1276.5813262452,"volume":40424911325},{"date":"2022-10-09","open":1276.6051342921,"high":1382.2903937218,"low":1267.118887825,"close":1322.6608285045,"volume":26481758852},{"date":"2022-10-16","open":1323.14218419,"high":1341.8579755783,"low":1198.4888087395,"close":1306.0252528939,"volume":27398347264},{"date":"2022-10-23","open":1305.8729697115,"high":1370.584744521,"low":1257.6110758896,"close":1364.2627341775,"volume":22723038195},{"date":"2022-10-30","open":1364.168526603,"high":1661.1032728243,"low":1324.9838767197,"close":1590.7381263134,"volume":44823442728},{"date":"2022-11-06","open":1590.7158682239,"high":1672.8945273122,"low":1503.7235173523,"close":1569.6324232422,"volume":42030641290},{"date":"2022-11-13","open":1568.8301246826,"high":1608.0038077816,"low":1074.8649457977,"close":1219.6242092963,"volume":62031481855},{"date":"2022-11-20","open":1219.7387105771,"high":1287.6452254654,"low":1132.4362400549,"close":1141.1557892679,"volume":29234812586},{"date":"2022-11-27","open":1140.9020954591,"high":1228.7903572696,"low":1075.2712191484,"close":1192.4662260831,"volume":28697664916},{"date":"2022-12-04","open":1192.5892370002,"high":1304.4246670803,"low":1150.8455548601,"close":1280.0982570904,"volume":26818677074},{"date":"2022-12-11","open":1280.0987869284,"high":1304.8086032868,"low":1221.6641196013,"close":1263.3265619823,"volume":17535850387},{"date":"2022-12-18","open":1263.2722794965,"high":1348.2092002192,"low":1158.5231217153,"close":1183.2529244953,"volume":22525476201},{"date":"2022-12-25","open":1183.2826529072,"high":1229.2659490184,"low":1154.256144372,"close":1218.4218325231,"volume":18361882744},{"date":"2023-01-01","open":1218.3274542004,"high":1232.5160581182,"low":1183.4829117448,"close":1200.0484736279,"volume":14746113897},{"date":"2023-01-08","open":1199.9284667476,"high":1289.4130233476,"low":1193.2766352865,"close":1289.4036053483,"volume":14019067538},{"date":"2023-01-15","open":1289.1192903009,"high":1581.9174933156,"low":1285.386906633,"close":1553.4479701669,"volume":29384502704},{"date":"2023-01-22","open":1553.1427579666,"high":1678.4499337938,"low":1503.8870214163,"close":1627.8861520941,"volume":31237876811},{"date":"2023-01-29","open":1627.9488574396,"high":1656.7174780632,"low":1517.8889264701,"close":1645.5845261857,"volume":29252402238},{"date":"2023-02-05","open":1645.0423054293,"high":1712.4180115242,"low":1539.1249692689,"close":1629.5015310378,"volume":29623023102},{"date":"2023-02-12","open":1629.5452473516,"high":1693.7116394247,"low":1497.3961286823,"close":1515.3028358517,"volume":26712188843},{"date":"2023-02-19","open":1515.1848016175,"high":1740.2841701346,"low":1466.1313587572,"close":1681.0831641138,"volume":35175109313},{"date":"2023-02-26","open":1680.3865660054,"high":1718.4317013569,"low":1564.2116488785,"close":1641.4614962518,"volume":33522819735},{"date":"2023-03-05","open":1641.4525130405,"high":1677.059201292,"low":1549.2905889115,"close":1564.6060330731,"volume":28493008717},{"date":"2023-03-12","open":1564.6616695582,"high":1604.6978333336,"low":1373.1800459998,"close":1592.379158377,"volume":35844225693},{"date":"2023-03-19","open":1592.1513198457,"high":1844.4281083277,"low":1573.3282854448,"close":1785.8190809632,"volume":37487707500},{"date":"2023-03-26","open":1786.0969749423,"high":1854.8443462501,"low":1718.4389631554,"close":1775.4265752637,"volume":27878632915},{"date":"2023-04-02","open":1775.6601625573,"high":1844.5692891737,"low":1690.0115162149,"close":1795.580047755,"volume":24251754132},{"date":"2023-04-09","open":1795.5918059174,"high":1940.5283992474,"low":1765.0549394336,"close":1859.9342355012,"volume":25327467942},{"date":"2023-04-16","open":1859.6758656592,"high":2137.7004316965,"low":1848.2802609524,"close":2119.2830200892,"volume":31407967540},{"date":"2023-04-23","open":2119.4242642913,"high":2121.1322441381,"low":1829.9490685126,"close":1862.1220096445,"volume":29603360418},{"date":"2023-04-30","open":1862.149191291,"high":1962.6196641942,"low":1791.636274868,"close":1871.3950992444,"volume":28130550016},{"date":"2023-05-07","open":1874.3348538805,"high":2015.760574551,"low":1807.4926282011,"close":1873.726482616,"volume":26797659802},{"date":"2023-05-14","open":1873.497817796,"high":1886.9818318222,"low":1740.9697803527,"close":1800.1283806041,"volume":23960769965},{"date":"2023-05-21","open":1800.1392169154,"high":1845.7938819041,"low":1772.7125411516,"close":1805.0529285291,"volume":13532504681},{"date":"2023-05-28","open":1805.0927331205,"high":1915.8865264495,"low":1764.4317802242,"close":1909.4809688935,"volume":15239800419},{"date":"2023-06-04","open":1909.8419643353,"high":1925.6727358358,"low":1845.0514082929,"close":1890.362930903,"volume":14754971630},{"date":"2023-06-11","open":1890.335992914,"high":1897.0339590402,"low":1721.609134288,"close":1753.4678797154,"volume":19356897738},{"date":"2023-06-18","open":1753.1808319749,"high":1762.7304990013,"low":1625.878581672,"close":1720.7931645477,"volume":16716230330},{"date":"2023-06-25","open":1720.463883535,"high":1932.5101893646,"low":1706.2299698959,"close":1899.0211785479,"volume":23195381011},{"date":"2023-07-02","open":1899.5754616329,"high":1958.0898210461,"low":1822.401129597,"close":1937.1975943028,"volume":22498365729},{"date":"2023-07-09","open":1937.3373996664,"high":1974.6138085721,"low":1830.3105478643,"close":1863.2843918856,"volume":16126586167},{"date":"2023-07-16","open":1863.3154474771,"high":2025.1207014919,"low":1848.4930704278,"close":1925.2015634999,"volume":18031084688},{"date":"2023-07-23","open":1923.8912717401,"high":1936.2204818592,"low":1854.5050709523,"close":1888.9080364503,"volume":13531122102},{"date":"2023-07-30","open":1888.4018258213,"high":1890.571805385,"low":1836.3832190486,"close":1861.8109828658,"volume":9832524851},{"date":"2023-08-06","open":1861.7023781077,"high":1877.7236926592,"low":1817.8435237408,"close":1827.3605288237,"volume":11989112729},{"date":"2023-08-13","open":1827.2870724839,"high":1873.2166772417,"low":1803.4142511216,"close":1839.4141614997,"volume":9988328811},{"date":"2023-08-20","open":1840.8984283622,"high":1854.0483269135,"low":1549.5393775051,"close":1685.2055505634,"volume":16875050627},{"date":"2023-08-27","open":1685.1933054895,"high":1697.3413733223,"low":1597.4646336711,"close":1657.540373647,"volume":12511454718},{"date":"2023-09-03","open":1657.549014142,"high":1742.869806335,"low":1602.3749060319,"close":1635.7053114745,"volume":14244892971},{"date":"2023-09-10","open":1635.7696951149,"high":1660.1739266797,"low":1604.6105050997,"close":1617.0964310094,"volume":9833240279},{"date":"2023-09-17","open":1616.8266995598,"high":1651.9415127018,"low":1532.760749734,"close":1622.7897514925,"volume":13205154044},{"date":"2023-09-24","open":1622.9893613657,"high":1669.3491728687,"low":1572.4799240131,"close":1580.6826851114,"volume":10265519426},{"date":"2023-10-01","open":1580.6698439034,"high":1755.1144239443,"low":1564.4880310594,"close":1733.9552767094,"volume":15153944645},{"date":"2023-10-08","open":1733.7726995871,"high":1743.2789849155,"low":1610.078142255,"close":1633.596279824,"volume":16356373124},{"date":"2023-10-15","open":1633.575595637,"high":1635.7207306644,"low":1522.9291703291,"close":1558.3632112649,"volume":16272846993},{"date":"2023-10-22","open":1559.0359030152,"high":1667.8073126466,"low":1544.2427153156,"close":1664.1284784934,"volume":18402535371},{"date":"2023-10-29","open":1664.263625486,"high":1865.3074478184,"low":1659.1428679098,"close":1795.5295099354,"volume":29957565879},{"date":"2023-11-05","open":1796.0012175232,"high":1910.9779265265,"low":1778.8575830677,"close":1893.706860062,"volume":24583738441},{"date":"2023-11-12","open":1893.599199534,"high":2135.7379877872,"low":1852.640605398,"close":2045.8874788476,"volume":32747664287},{"date":"2023-11-19","open":2045.5920353146,"high":2115.5301264883,"low":1910.6224300618,"close":2013.0669602679,"volume":33765723465},{"date":"2023-11-26","open":2012.8705252144,"high":2131.8316026454,"low":1933.8750847856,"close":2063.1776494914,"volume":31924997820},{"date":"2023-12-03","open":2063.0866362466,"high":2211.1830332244,"low":1987.8308912035,"close":2193.6555557959,"volume":26712653829},{"date":"2023-12-10","open":2193.7552081419,"high":2401.8249341834,"low":2190.2164364536,"close":2352.4773690665,"volume":39523124616},{"date":"2023-12-17","open":2352.5174195093,"high":2354.8515430118,"low":2150.3330376802,"close":2194.9314783851,"volume":35468291094},{"date":"2023-12-24","open":2195.1763756554,"high":2341.8345155077,"low":2120.5705347705,"close":2265.4557694485,"volume":39286194254},{"date":"2023-12-31","open":2265.6014629806,"high":2446.4670511321,"low":2185.4506584268,"close":2281.96774669,"volume":40131987744},{"date":"2024-01-07","open":2282.081550351,"high":2432.6795761522,"low":2112.8704644329,"close":2222.8764648011,"volume":42299235053},{"date":"2024-01-14","open":2222.005766246,"high":2711.7133914754,"low":2172.5937655722,"close":2471.731271045,"volume":79993721835},{"date":"2024-01-21","open":2471.7470728728,"high":2613.2292093966,"low":2415.0114938417,"close":2455.1153984752,"volume":40076037503},{"date":"2024-01-28","open":2455.4001904588,"high":2463.6409581071,"low":2166.9640289972,"close":2256.8758114675,"volume":43116759737},{"date":"2024-02-04","open":2256.522326168,"high":2389.2035632848,"low":2236.0852518049,"close":2288.8661115419,"volume":32043599951},{"date":"2024-02-11","open":2288.9296683877,"high":2538.2615326109,"low":2268.4009820878,"close":2507.850761705,"volume":43442571558},{"date":"2024-02-18","open":2507.8368310295,"high":2893.2194111754,"low":2473.7042703761,"close":2880.7661857457,"volume":60571402821},{"date":"2024-02-25","open":2880.9523613947,"high":3116.0328322555,"low":2860.5706592151,"close":3112.9621220091,"volume":88438520348},{"date":"2024-03-03","open":3113.0901601307,"high":3520.1522905923,"low":2998.3638025049,"close":3489.4851456342,"volume":122006798309},{"date":"2024-03-10","open":3490.0111995738,"high":3998.7523815076,"low":3279.3603050226,"close":3881.0063117376,"volume":156902671665},{"date":"2024-03-17","open":3882.1703215945,"high":4094.0469222968,"low":3417.0444069359,"close":3642.5286853562,"volume":156883526713},{"date":"2024-03-24","open":3642.7943566066,"high":3642.7943566066,"low":3064.0603901763,"close":3454.7807736539,"volume":137865457702},{"date":"2024-03-31","open":3455.0232737464,"high":3674.0562056237,"low":3422.0241727115,"close":3646.4758020882,"volume":82228066704},{"date":"2024-04-07","open":3646.4494569183,"high":3646.4494569183,"low":3208.9646457196,"close":3453.7462585117,"volume":80876891062},{"date":"2024-04-14","open":3453.5336238008,"high":3727.6369345375,"low":2866.3503005323,"close":3157.5860881023,"volume":108587478872},{"date":"2024-04-21","open":3157.989731246,"high":3273.9881031655,"low":2869.5539229223,"close":3148.019111005,"volume":72891027184},{"date":"2024-04-28","open":3148.0185629392,"high":3395.780169774,"low":3075.3016117354,"close":3262.2337100308,"volume":52983513629},{"date":"2024-05-05","open":3262.6385781047,"high":3299.6752604087,"low":2821.2713515517,"close":3136.9458077837,"volume":64044189965},{"date":"2024-05-12","open":3137.0962272441,"high":3218.5266085987,"low":2885.8102334351,"close":2928.1376545984,"volume":44792023950},{"date":"2024-05-19","open":2928.655929988,"high":3147.4179598072,"low":2863.726828571,"close":3070.8954341075,"volume":47631445042},{"date":"2024-05-26","open":3071.4729164569,"high":3939.0661728664,"low":3049.793483297,"close":3824.9763427171,"volume":110293382719},{"date":"2024-06-02","open":3825.7447573356,"high":3972.7846770478,"low":3701.4681550242,"close":3779.8533857549,"volume":55734592984},{"date":"2024-06-09","open":3779.59669504,"high":3884.9085752558,"low":3611.4836085707,"close":3705.9608148815,"volume":45943294621},{"date":"2024-06-16","open":3706.0024490546,"high":3712.1098552096,"low":3365.2093779163,"close":3622.2534377513,"volume":56600437216},{"date":"2024-06-23","open":3622.2534377513,"high":3648.9848498205,"low":3467.1048630258,"close":3556.8660570264,"volume":11219046799}];

const GAIN = '&#9650;';
const LOSS = '&#9660;';

const percent = new Intl.NumberFormat('en-US', {
  style: 'percent',
  minimumFractionDigits: 1,
  maximumFractionDigits: 1,
  signDisplay: 'exceptZero',
}).format;

const ohlcv = charts.OHLCV(crypto, charts.parseVerboseObject)
  .screenHeightFraction(0.8)
  // .showVolume(0.08)
  .showVolume(0.08)
  .hideVolume()
  // .hideVolumeAxis()
  .defaultLog()

ohlcv.render("#chart");

document.getElementById("log").addEventListener("click", () => {
  ohlcv.useLog();
});

document.getElementById("linear").addEventListener("click", () => {
  ohlcv.useLinear();
});

document.getElementById("reset").addEventListener("click", () => {
  ohlcv.reset();
});

const hud = document.querySelector("#hud");

function onMove(data) {
  ohlcv.spotlight(data.index);
  if (typeof data.delta !== 'undefined' && data.delta !== null ) {
    let clone = hudTemplate.content.cloneNode(true);
    clone.querySelector(".date").innerHTML = data.x.toISOString().substring(0, 10);
    clone.querySelector(".symbol").innerHTML = data.delta >= 0 ? GAIN : LOSS;
    clone.querySelector(".delta").textContent = percent(data.percent);
    clone.querySelector("div").classList = data.delta > 0 ? "up" : "down";
    hud.replaceChildren(clone);
  } else {
    hud.innerHTML = "";
  }
}

function onLeave() {
  hud.innerHTML = "";
  ohlcv.noSpotlight();
}

ohlcv.spotlight(3);
ohlcv.onEvent(onMove, onLeave);
    </script>
  </body>
</html>
