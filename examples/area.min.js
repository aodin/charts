var charts=(()=>{var d=Object.defineProperty;var v=Object.getOwnPropertyDescriptor;var f=Object.getOwnPropertyNames;var k=Object.prototype.hasOwnProperty;var y=(o,t)=>{for(var e in t)d(o,e,{get:t[e],enumerable:!0})},X=(o,t,e,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of f(t))!k.call(o,r)&&r!==e&&d(o,r,{get:()=>t[r],enumerable:!(s=v(t,r))||s.enumerable});return o};var Y=o=>X(d({},"__esModule",{value:!0}),o);var w={};y(w,{Area:()=>g});function m(o,{ratio:t=.2,maxWidth:e=1600,minWidth:s=400,minHeight:r=300}={}){let a=document.querySelector(o),n=d3.min([a.offsetWidth,e]);n=d3.max([a.offsetWidth,s]);let h=d3.max([parseInt(t*n),r]);return[n,h]}var l=class{constructor(t,e={}){this.parse(t)}parse(t){this.X=this.parseX(t),this.Y=this.parseY(t),this.Z=this.parseZ(t);let e=(s,r)=>!isNaN(this.X[r])&&!isNaN(this.Y[r]);this.D=d3.map(t.values,e),this.I=d3.range(this.X.length),this.grouping=d3.group(this.I,s=>this.Z[s]),this.setColors(t)}parseX(t){return d3.map(t.values,e=>d3.isoParse(e[0]))}parseY(t){return d3.map(t.values,e=>e[1])}parseZ(t){return d3.map(t.values,e=>e[2])}getDomainX(){return d3.extent(this.X)}getRangeX(t,e){return[e.left,t.width-e.right]}getDomainY(){return d3.extent(this.Y)}getRangeY(t,e){return[t.height-e.bottom,e.top]}setColors(t){let e=t.z.reduce((s,r)=>(s[r.name]=r.color,s),{});this.colors=d3.scaleOrdinal().domain(Object.keys(e)).range(Object.values(e))}getColor(t){return this.colors(t)}createSVG(t,e){d3.select(t).selectAll("svg").remove(),this.svg=d3.select(t).append("svg").attr("viewBox",[0,0,e.width,e.height]).attr("style","max-width: 100%; height: intrinsic;").style("-webkit-tap-highlight-color","transparent").style("font-size","13px").style("overflow","visible")}};var g=class extends l{parse(t){this.Z=d3.map(t.z,s=>s.name);let e=d3.index(t.values,s=>d3.isoParse(s[0]),s=>s[2]);this.stack=d3.stack().keys(this.Z).value(([,s],r)=>{let a=s.get(r);return a?a[1]:0})(e),this.X=[...e.keys()],this.Y=[0,d3.max(this.stack[this.stack.length-1],s=>s[1])],this.setColors(t)}parseZ(t){return d3.map(t.values,e=>e[2])}getDomainX(){return d3.extent(this.X)}getDomainY(){return this.Y}setColors(t){this.colors=t.z.reduce((e,s)=>(e[s.name]=s.color,e),{})}getColor(t){return this.colors[t]}render(t){let[e,s]=m(t,{ratio:.35}),r={width:e,height:s};this.createSVG(t,r);let a={top:15,right:15,bottom:25,left:45},n=d3.scaleLinear().domain(this.getDomainY()).range(this.getRangeY(r,a)),h=d3.axisLeft(n).tickSize(0).ticks(8),p=d3.scaleUtc().domain(this.getDomainX()).range(this.getRangeX(r,a)),u=d3.axisBottom(p).tickSizeInner(4);this.svg.append("g").attr("transform",`translate(0,${r.height-a.bottom+2})`).call(u).call(i=>i.select(".domain").remove());let c=10;this.svg.append("g").attr("transform",`translate(${a.left-c},0)`).call(h).call(i=>i.select(".domain").remove()).call(i=>i.selectAll(".tick line").clone().attr("x1",c).attr("x2",r.width-a.right-a.left+c).attr("stroke-opacity",.1));let x=d3.area().x(i=>p(i.data[0])).y0(i=>n(i[0])).y1(i=>n(i[1]));this.svg.append("g").selectAll().data(this.stack).join("path").attr("fill",i=>this.getColor(i.key)).attr("d",x).append("title").text(i=>i.key)}};return Y(w);})();
//# sourceMappingURL=area.min.js.map
