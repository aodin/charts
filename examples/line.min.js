var charts=(()=>{var c=Object.defineProperty;var f=Object.getOwnPropertyDescriptor;var v=Object.getOwnPropertyNames;var x=Object.prototype.hasOwnProperty;var X=(o,t)=>{for(var e in t)c(o,e,{get:t[e],enumerable:!0})},w=(o,t,e,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of v(t))!x.call(o,s)&&s!==e&&c(o,s,{get:()=>t[s],enumerable:!(r=f(t,s))||r.enumerable});return o};var y=o=>w(c({},"__esModule",{value:!0}),o);var Y={};X(Y,{Line:()=>d});function p(o,{ratio:t=.2,maxWidth:e=1600,minWidth:r=400,minHeight:s=300}={}){let a=document.querySelector(o),n=d3.min([a.offsetWidth,e]);n=d3.max([a.offsetWidth,r]);let h=d3.max([parseInt(t*n),s]);return[n,h]}var l=class{constructor(t,e={}){this.parse(t)}parse(t){this.X=this.parseX(t),this.Y=this.parseY(t),this.Z=this.parseZ(t);let e=(r,s)=>!isNaN(this.X[s])&&!isNaN(this.Y[s]);this.D=d3.map(t.values,e),this.I=d3.range(this.X.length),this.grouping=d3.group(this.I,r=>this.Z[r]),this.setColors(t)}parseX(t){return d3.map(t.values,e=>d3.isoParse(e[0]))}parseY(t){return d3.map(t.values,e=>e[1])}parseZ(t){return d3.map(t.values,e=>e[2])}getDomainX(){return d3.extent(this.X)}getRangeX(t,e){return[e.left,t.width-e.right]}getDomainY(){return d3.extent(this.Y)}getRangeY(t,e){return[t.height-e.bottom,e.top]}setColors(t){let e=t.z.reduce((r,s)=>(r[s.name]=s.color,r),{});this.colors=d3.scaleOrdinal().domain(Object.keys(e)).range(Object.values(e))}getColor(t){return this.colors(t)}createSVG(t,e){d3.select(t).selectAll("svg").remove(),this.svg=d3.select(t).append("svg").attr("viewBox",[0,0,e.width,e.height]).attr("style","max-width: 100%; height: intrinsic;").style("-webkit-tap-highlight-color","transparent").style("font-size","13px").style("overflow","visible")}};var d=class extends l{render(t){let[e,r]=p(t,{ratio:.35}),s={width:e,height:r},a={top:15,right:15,bottom:25,left:45};this.createSVG(t,s);let n=d3.scaleUtc().domain(this.getDomainX()).range(this.getRangeX(s,a)),h=d3.axisBottom(n).tickSizeInner(4);this.svg.append("g").attr("transform",`translate(0,${s.height-a.bottom+2})`).call(h).call(i=>i.select(".domain").remove());let g=d3.scaleLinear().domain(this.getDomainY()).range(this.getRangeY(s,a)),m=d3.axisLeft(g).tickSize(0).ticks(8);this.svg.append("g").attr("transform",`translate(${a.left-10},0)`).call(m).call(i=>i.select(".domain").remove()).call(i=>i.selectAll(".tick line").clone().attr("x2",s.width-a.left-a.right).attr("stroke-opacity",.1));let u=d3.line().defined(i=>this.D[i]).x(i=>n(this.X[i])).y(i=>g(this.Y[i])),k=this.svg.append("g").attr("fill","none").attr("stroke-width",1.5).selectAll("path").data(this.grouping).join("path").attr("d",([,i])=>u(i)).attr("stroke",([i])=>this.getColor(i))}clear(){this.svg.selectAll("*").remove()}};return y(Y);})();
//# sourceMappingURL=line.min.js.map
