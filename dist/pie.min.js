var charts=(()=>{var N=Object.create;var u=Object.defineProperty;var S=Object.getOwnPropertyDescriptor;var T=Object.getOwnPropertyNames;var y=Object.getPrototypeOf,O=Object.prototype.hasOwnProperty;var D=(i,t)=>()=>(t||i((t={exports:{}}).exports,t),t.exports),w=(i,t)=>{for(var e in t)u(i,e,{get:t[e],enumerable:!0})},R=(i,t,e,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of T(t))!O.call(i,s)&&s!==e&&u(i,s,{get:()=>t[s],enumerable:!(n=S(t,s))||n.enumerable});return i};var E=(i,t,e)=>(e=i!=null?N(y(i)):{},R(t||!i||!i.__esModule?u(e,"default",{value:i,enumerable:!0}):e,i)),x=i=>R(u({},"__esModule",{value:!0}),i);var p=D((z,A)=>{A.exports=d3});var P={};w(P,{Donut:()=>M,Gauge:()=>L,Pie:()=>G,PieChart:()=>l,parse2dArray:()=>v,parse3dArray:()=>H,parseTimeSeries3dArray:()=>C});var r=E(p());var h=E(p()),f=class{constructor(t,e,n,s){this.top=t,this.right=e,this.bottom=n,this.left=s}};function _(){return new f(15,15,25,25)}var g=class{constructor(t,e,n){this.width=t,this.height=e,this.pad=n||_()}get rangeX(){return[this.pad.left,this.width-this.pad.right]}get rangeY(){return[this.height-this.pad.bottom,this.pad.top]}get innerWidth(){return this.width-this.pad.left-this.pad.right}get innerHeight(){return this.height-this.pad.top-this.pad.bottom}get innerMinimum(){return h.min([this.innerWidth,this.innerHeight])}get midpoint(){return[this.width/2,this.height/2]}};function I(i,{minWidth:t=400,maxWidth:e=void 0,minHeight:n=300,maxHeight:s=void 0,screenHeightPercent:o=.5}={}){let a=document.querySelector(i),c=h.max([a.offsetWidth,t]);e&&(c=h.min([c,e]));let d=window.innerHeight*o;return d=h.max([d,n]),s&&(d=h.min([d,s])),new g(c,d,_())}function U(i,t,e){return h.select(i).append("svg").attr("viewBox",[0,0,t,e]).attr("style","max-width: 100%; height: intrinsic;").style("-webkit-tap-highlight-color","transparent").style("overflow","visible")}function m(i,t){let e=h.select(i);if(!e.node())throw new Error(`Unable to find a DOM element for selector '${i}'`);if(e.node().tagName==="svg"){let o=e,a=+o.attr("width"),c=+o.attr("height");if(a&&c)return[o,new g(a,c)];{let d=I(i,{screenHeightPercent:t.SCREEN_HEIGHT_PERCENT});return[o,d]}}let n=I(i,{screenHeightPercent:t.SCREEN_HEIGHT_PERCENT});return[U(i,n.width,n.height),n]}function H(i){return{x:i[0],y:i[1],z:i[2]}}function v(i){return{x:null,y:i[0],z:i[1]}}function C(i){return{x:r.isoParse(i[0]),y:i[1],z:i[2]}}var l=class{constructor(t,e=n=>n){this.config={SCREEN_HEIGHT_PERCENT:.5,DURATION_MS:500,INNER_RADIUS:.3,OUTER_RADIUS:.8,INNER_RADIUS_HOVER:.3,OUTER_RADIUS_HOVER:.9,BACKGROUND_OPACITY:.5,START_ANGLE:0,END_ANGLE:2*Math.PI,INITIAL_CLOSED:!1,SKIP_ENTER_ANIMATION:!1,COLORS:r.schemeCategory10},this.data=r.map(t,e),this.X=Array.from(new r.InternSet(r.map(this.data,n=>n.x))),this.Z=Array.from(new r.InternSet(r.map(this.data,n=>n.z))),this.byX=r.group(this.data,n=>n.x),this.colors=r.scaleOrdinal().domain(this.Z).range(this.config.COLORS)}screenHeightPercent(t){return this.config.SCREEN_HEIGHT_PERCENT=t,this}animationDuration(t){return this.config.DURATION_MS=t,this}noAnimation(){return this.animationDuration(0)}useDiscreteScheme(t){return this.colors=r.scaleOrdinal().domain(this.Z).range(t),this}useContinuousScheme(t,e=0,n=1){let s=r.quantize(o=>t(o*(n-e)+e),this.Z.length);return this.useDiscreteScheme(s)}radii(t,e){return this.config.INNER_RADIUS=t,this.config.OUTER_RADIUS=e,this}hoverRadii(t,e){return this.config.INNER_RADIUS_HOVER=t,this.config.OUTER_RADIUS_HOVER=e,this}angles(t,e){return this.config.START_ANGLE=t,this.config.END_ANGLE=e,this}renderClosed(){return this.config.INITIAL_CLOSED=!0,this}skipEnterAnimation(){return this.config.SKIP_ENTER_ANIMATION=!0,this}get legend(){return r.map(new Set(this.Z),t=>({key:t,color:this.color(t)}))}get outerRadius(){return this.config.OUTER_RADIUS*(this.layout.innerMinimum/2)}get innerRadius(){return this.config.INNER_RADIUS*(this.layout.innerMinimum/2)}get outerRadiusHover(){return this.config.OUTER_RADIUS_HOVER*(this.layout.innerMinimum/2)}get innerRadiusHover(){return this.config.INNER_RADIUS_HOVER*(this.layout.innerMinimum/2)}render(t){if(!this.data.length)return;[this.svg,this.layout]=m(t,this.config);let e=this.X[this.X.length-1];this.pie=r.pie().sort(null).value(o=>o.y).startAngle(this.config.START_ANGLE).endAngle(this.config.END_ANGLE),this.arc=r.arc().innerRadius(this.innerRadius).outerRadius(this.outerRadius),this.arcEnlarge=r.arc().innerRadius(this.innerRadiusHover).outerRadius(this.outerRadiusHover);let[n,s]=this.layout.midpoint;this.slices=this.svg.append("g").attr("transform",`translate(${n},${s})`),this.gDisplay=this.svg.append("g").attr("transform",`translate(${n},${s})`).attr("class","display").append("text"),this.config.INITIAL_CLOSED||this.update(e)}update(t){let e=this.byX.get(t),n=this.pie(e),s=this.slices.selectAll("path").data(n,a=>a.data.z),o=this.arc;s.transition().duration(this.config.DURATION_MS).attrTween("d",function(a){let c=r.interpolate(this._current,a);return this._current=c(0),d=>o(c(d))}),s.enter().append("g").attr("class","slice").attr("opacity",1).append("path").attr("fill",a=>this.colors(a.data.z)).each(function(a){this._current=a}).transition().duration(this.config.DURATION_MS).attrTween("d",a=>{if(this.config.SKIP_ENTER_ANIMATION)return()=>o(a);let c=r.interpolate({startAngle:0,endAngle:0},a);return d=>o(c(d))})}getLabel(t){return""}set display(t){this.gDisplay.text(t)}enlarge(t){this.slices.selectAll("path").filter(e=>e.data.z===t).transition().duration(this.config.DURATION_MS).attr("d",this.arcEnlarge)}reset(){this.slices.selectAll("path").transition().duration(this.config.DURATION_MS).attr("d",this.arc)}noHighlight(){this.slices.selectAll("g").transition().duration(this.config.DURATION_MS).attr("opacity",1)}highlight(t){this.slices.selectAll("g").transition().duration(this.config.DURATION_MS).attr("opacity",e=>e.data.z===t?1:this.config.BACKGROUND_OPACITY)}onEvent(t,e){let n=(o,a)=>{t&&t.call(this,a,o)},s=(o,a)=>{e&&e.call(this,a,o)};this.slices.selectAll("path").on("pointerenter",n).on("pointerleave",s)}};function M(i,t){return new l(i,t)}function G(i,t){return new l(i,t).radii(0,.8).hoverRadii(0,.9)}function L(i,t){return new l(i,t).angles(-Math.PI*.65,Math.PI*.65).radii(.5,.8).hoverRadii(.55,.9)}return x(P);})();
//# sourceMappingURL=pie.min.js.map
