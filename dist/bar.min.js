var charts=(()=>{var D=Object.create;var c=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,F=Object.prototype.hasOwnProperty;var R=(i,t,e)=>t in i?c(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var U=(i,t)=>()=>(t||i((t={exports:{}}).exports,t),t.exports),b=(i,t)=>{for(var e in t)c(i,e,{get:t[e],enumerable:!0})},Y=(i,t,e,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of K(t))!F.call(i,n)&&n!==e&&c(i,n,{get:()=>t[n],enumerable:!(s=E(t,n))||s.enumerable});return i};var d=(i,t,e)=>(e=i!=null?D(N(i)):{},Y(t||!i||!i.__esModule?c(e,"default",{value:i,enumerable:!0}):e,i)),v=i=>Y(c({},"__esModule",{value:!0}),i);var f=(i,t,e)=>R(i,typeof t!="symbol"?t+"":t,e);var h=U((P,y)=>{y.exports=d3});var G={};b(G,{Bar:()=>x});var a=d(h());var r=d(h());var X=d(h()),m=class{constructor(t={}){this.ANIMATION_DURATION_MS=500,this.X_TICK_MAX_COUNT=null,this.X_TICK_SPACE=50,this.X_TICK_SIZE=4,this.X_TICK_GUTTER=3,this.Y_TICK_MAX_COUNT=null,this.Y_TICK_SPACE=40,this.Y_TICK_SIZE=0,this.Y_TICK_GUTTER=5,this.FONT_SIZE="13px",this.COLORS=X.schemeCategory10,this.BAND_PADDING=.2,this.VOLUME_OPACITY=.6,this.OHLC_COLORS=["#1ebc8c","#b2b2b2","#f34d27"],this.STROKE_WIDTH=1.5,this.HIGHLIGHT_STROKE_WIDTH=2,this.BACKGROUND_OPACITY=.3,this.DOT_RADIUS=3,this.BAR_STROKE_WIDTH=0,this.EVENT_FPS=48,Object.assign(this,t)}get eventLatency(){return parseInt(1e3/this.EVENT_FPS)}getYTickCount(t){let e=parseInt(t/this.Y_TICK_SPACE)+1;return this.Y_TICK_MAX_COUNT&&e>this.Y_TICK_MAX_COUNT&&(e=this.Y_TICK_MAX_COUNT),e}getXTickCount(t){let e=parseInt(t/this.X_TICK_SPACE)+1;return this.X_TICK_MAX_COUNT&&e>this.X_TICK_MAX_COUNT&&(e=this.X_TICK_MAX_COUNT),e}};var u=d(h()),g=class{constructor(t,e,s,n){this.top=t,this.right=e,this.bottom=s,this.left=n}},I=class{constructor(t,e,s){this.width=t,this.height=e,this.padding=s}get rangeX(){return[this.padding.left,this.width-this.padding.right]}get rangeY(){return[this.height-this.padding.bottom,this.padding.top]}get innerWidth(){return this.width-this.padding.left-this.padding.right}get innerHeight(){return this.height-this.padding.top-this.padding.bottom}};function k(){return new I(window.innerWidth,window.innerHeight,new g(15,15,15,15))}var T=class{constructor(t,e={}){f(this,"tickFormatX",null);f(this,"tickFormatY",null);this.options=new m(e),this.data=t,this.parse(t)}getPadding(t){return new g(15,15,15,30)}getTickValuesX(){return null}getTickValuesY(){return null}parse(t){this.X=this.parseX(t),this.Y=this.parseY(t),this.Z=this.parseZ(t),this.items=new Set(this.Z);let e=(s,n)=>!isNaN(this.X[n])&&!isNaN(this.Y[n]);this.D=r.map(t,e),this.I=r.range(this.X.length),this.grouping=r.group(this.I,s=>this.Z[s]),this.setColors(t)}formatX(t){return t}formatY(t){return t}formatZ(t){return t}parseX(t){return r.map(t,e=>r.isoParse(e[0]))}parseY(t){return r.map(t,e=>e[1])}parseZ(t){return r.map(t,e=>e[2])}getDomainX(){return r.extent(this.X)}getRangeX(t){return t.rangeX}getDomainY(){return r.extent(this.Y)}getRangeY(t){return t.rangeY}setColors(t){this.colors=r.scaleOrdinal().domain(this.items).range(this.options.COLORS)}getColor(t){return this.colors(t)}getLayout(t){let e=k();return e.height=parseInt(e.height*.7),e}createSVG(t,e){r.select(t).selectAll("svg").remove(),this.svg=r.select(t).append("svg").attr("viewBox",[0,0,e.width,e.height]).attr("style","max-width: 100%; height: intrinsic;").style("-webkit-tap-highlight-color","transparent").style("font-size",this.options.FONT_SIZE).style("overflow","visible")}clear(){this.svg&&this.svg.selectAll("*").remove()}};var l=d(h()),$=l.utcFormat("%b"),Z=l.utcFormat("%b %-d"),j=l.utcFormat("%b %Y"),L=l.utcFormat("%b %-d, %Y"),Q=l.utcFormat("%B %-d, %Y");function S(){let i=null;return function(t){let e=t.getUTCFullYear();return i!==e?(i=e,L(t)):Z(t)}}var x=class extends T{parse(t){this.Z=this.parseZ(t),this.items=new Set(this.Z);let e=a.index(t,s=>a.isoParse(s[0]),s=>s[2]);this.stack=a.stack().keys(this.items).value(([,s],n)=>{let p=s.get(n);return p?p[1]:0})(e),this.X=[...e.keys()],this.Y=[0,a.max(this.stack[this.stack.length-1],s=>s[1])],this.setColors(t)}getDomainX(){return new Set(this.X)}getDomainY(){return this.Y}render(t){this.layout=this.getLayout(t),this.layout.padding=this.getPadding(this.layout),this.createSVG(t,this.layout);let e=this.getRangeY(this.layout),s=e[0]-e[1],n=a.scaleLinear().domain(this.getDomainY()).range(e),p=a.axisLeft(n).tickValues(this.getTickValuesY()).tickFormat(this.tickFormatY).tickSize(0).ticks(this.options.getYTickCount(s)),_=this.getRangeX(this.layout),A=_[1]-_[0],C=a.scaleBand().domain(this.getDomainX()).range(_).padding(this.options.BAND_PADDING).align(.1),O=S(),w=a.axisBottom(C).tickFormat(O).tickSizeInner(this.options.X_TICK_SIZE).ticks(this.options.getXTickCount(A));this.svg.append("g").style("font-size",this.options.FONT_SIZE).attr("transform",`translate(0,${this.layout.height-this.layout.padding.bottom+this.options.X_TICK_GUTTER})`).call(w).call(o=>o.select(".domain").remove()),this.svg.append("g").style("font-size",this.options.FONT_SIZE).attr("transform",`translate(${this.layout.padding.left-this.options.Y_TICK_GUTTER},0)`).call(p).call(o=>o.select(".domain").remove()).call(o=>o.selectAll(".tick line").clone().attr("stroke","#888").attr("stroke-opacity",.4).attr("x1",this.options.Y_TICK_GUTTER).attr("x2",this.layout.innerWidth+this.options.Y_TICK_GUTTER)),this.svg.append("g").selectAll().data(this.stack).join("g").attr("fill",o=>this.getColor(o.key)).selectAll("rect").data(o=>o).join("rect").attr("stroke-width",this.options.BAR_STROKE_WIDTH).attr("x",o=>C(o.data[0])).attr("y",o=>n(o[1])).attr("height",o=>n(o[0])-n(o[1])).attr("width",C.bandwidth())}};return v(G);})();
//# sourceMappingURL=bar.min.js.map
