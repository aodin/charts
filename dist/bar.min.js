var charts=(()=>{var X=Object.create;var T=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var U=Object.getOwnPropertyNames;var K=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty;var F=(e,t,i)=>t in e?T(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var b=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),H=(e,t)=>{for(var i in t)T(e,i,{get:t[i],enumerable:!0})},S=(e,t,i,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of U(t))!w.call(e,r)&&r!==i&&T(e,r,{get:()=>t[r],enumerable:!(s=y(t,r))||s.enumerable});return e};var m=(e,t,i)=>(i=e!=null?X(K(e)):{},S(t||!e||!e.__esModule?T(i,"default",{value:e,enumerable:!0}):i,e)),M=e=>S(T({},"__esModule",{value:!0}),e);var E=(e,t,i)=>F(e,typeof t!="symbol"?t+"":t,i);var _=b((P,A)=>{A.exports=d3});var G={};H(G,{Bar:()=>v,BarChart:()=>f});var h=m(_());var n=m(_());var k=m(_()),I=class{constructor(t={}){this.ANIMATION_DURATION_MS=500,this.SCREEN_HEIGHT_FRACTION=.65,this.X_TICK_MAX_COUNT=null,this.X_TICK_SPACE=50,this.X_TICK_SIZE=4,this.X_TICK_GUTTER=3,this.Y_TICK_MAX_COUNT=null,this.Y_TICK_SPACE=40,this.Y_TICK_SIZE=0,this.Y_TICK_GUTTER=5,this.FONT_SIZE="13px",this.COLORS=k.schemeCategory10,this.MIN_Y_AT_ZERO=!1,this.Y_TICKS_RIGHT=!1,this.BAND_PADDING=.2,this.VOLUME_OPACITY=.6,this.OHLC_COLORS=["#1ebc8c","#b2b2b2","#f34d27"],this.VOLUME_COLORS=["#1ebc8c","#b2b2b2","#f34d27"],this.HIDE_VOLUME=!1,this.HIDE_VOLUME_TICKS=!1,this.STROKE_WIDTH=1.5,this.HIGHLIGHT_STROKE_WIDTH=2,this.BACKGROUND_OPACITY=.3,this.DOT_RADIUS=3,this.BAR_STROKE_WIDTH=0,this.INNER_RADIUS=.3,this.OUTER_RADIUS=.8,this.INNER_RADIUS_HOVER=.3,this.OUTER_RADIUS_HOVER=.9,this.EVENT_FPS=48,Object.assign(this,t)}get eventLatency(){return parseInt(1e3/this.EVENT_FPS)}get showVolumeTicks(){return!(this.HIDE_VOLUME||this.HIDE_VOLUME_TICKS)}getYTickCount(t){let i=parseInt(t/this.Y_TICK_SPACE)+1;return this.Y_TICK_MAX_COUNT&&i>this.Y_TICK_MAX_COUNT&&(i=this.Y_TICK_MAX_COUNT),i}getXTickCount(t){let i=parseInt(t/this.X_TICK_SPACE)+1;return this.X_TICK_MAX_COUNT&&i>this.X_TICK_MAX_COUNT&&(i=this.X_TICK_MAX_COUNT),i}};var a=m(_()),O=class{constructor(t,i,s,r){this.top=t,this.right=i,this.bottom=s,this.left=r}},R=class{constructor(t,i,s){this.width=t,this.height=i,this.padding=s}get rangeX(){return[this.padding.left,this.width-this.padding.right]}get rangeY(){return[this.height-this.padding.bottom,this.padding.top]}get innerWidth(){return this.width-this.padding.left-this.padding.right}get innerHeight(){return this.height-this.padding.top-this.padding.bottom}get innerMinimum(){return a.min([this.innerWidth,this.innerHeight])}get midpoint(){return[this.width/2,this.height/2]}};function x(e,{minWidth:t=400,maxWidth:i=void 0,minHeight:s=300,maxHeight:r=void 0,screenHeightFraction:d=.5}={}){let c=document.querySelector(e),g=a.max([c.offsetWidth,t]);i&&(g=a.min([g,i]));let l=window.innerHeight*d;return l=a.max([l,s]),r&&(l=a.min([l,r])),new R(g,l,new O(15,15,25,25))}function N(e,t,i,s,r){let d=a.select("body").append("svg").attr("width",100).attr("height",t).style("visibility","hidden"),c=a.scaleLinear().domain(i).range([t-e.bottom,e.top]),g=a.axisLeft(c).tickFormat(s).tickSize(0).ticks(8),Y=d.append("g").style("font-size",r.FONT_SIZE).call(g).selectAll(".tick text"),u=0;return Y.each(function(){let o=this.getBoundingClientRect();o.width>u&&(u=o.width)}),d.remove(),u+r.X_TICK_GUTTER+5}var C=class{constructor(t,i={}){E(this,"tickFormatX",null);E(this,"tickFormatY",null);this.options=new I(i),this.data=t,this.parse(t)}minAtZero(){return this.options.MIN_Y_AT_ZERO=!0,this}colorSet(t){return this.options.COLORS=t,this.setColors(),this}yTicksRight(){return this.options.Y_TICKS_RIGHT=!0,this}yTickLimit(t){return this.options.Y_TICK_MAX_COUNT=t,this}getTickValuesX(){return null}getTickValuesY(){return null}parse(t){this.X=this.parseX(t),this.Y=this.parseY(t),this.Z=this.parseZ(t),this.items=new Set(this.Z);let i=(s,r)=>!isNaN(this.X[r])&&!isNaN(this.Y[r]);this.D=n.map(t,i),this.I=n.range(this.X.length),this.grouping=n.group(this.I,s=>this.Z[s]),this.setColors(t)}formatX(t){return t}formatY(t){return t}formatZ(t){return t}parseX(t){return n.map(t,i=>n.isoParse(i[0]))}parseY(t){return n.map(t,i=>i[1])}parseZ(t){return n.map(t,i=>i[2])}getDomainX(){return n.extent(this.X)}getRangeX(t){return t.rangeX}getDomainY(){return this.options.MIN_Y_AT_ZERO?[0,n.max(this.Y)]:n.extent(this.Y)}getRangeY(t){return t.rangeY}setColors(t){this.colors=n.scaleOrdinal().domain(this.items).range(this.options.COLORS)}getColor(t){return this.colors(t)}getLayout(t){return x(t,{screenHeightFraction:this.options.SCREEN_HEIGHT_FRACTION})}getPadding(t){let i=N(t.padding,t.height,this.getDomainY(),this.tickFormatY,this.options);return this.options.Y_TICKS_RIGHT?t.padding.right=i:t.padding.left=i,t.padding}createSVG(t,i){n.select(t).selectAll("svg").remove(),this.svg=n.select(t).append("svg").attr("viewBox",[0,0,i.width,i.height]).attr("style","max-width: 100%; height: intrinsic;").style("-webkit-tap-highlight-color","transparent").style("font-size",this.options.FONT_SIZE).style("overflow","visible")}clear(){this.svg&&this.svg.selectAll("*").remove()}};var p=m(_()),Q=p.utcFormat("%b"),L=p.utcFormat("%b %-d"),J=p.utcFormat("%b %Y"),Z=p.utcFormat("%b %-d, %Y"),tt=p.utcFormat("%B %-d, %Y");function D(){let e=null;return function(t){let i=t.getUTCFullYear();return e!==i?(e=i,Z(t)):L(t)}}var f=class extends C{parse(t){this.Z=this.parseZ(t),this.items=new Set(this.Z);let i=h.index(t,s=>h.isoParse(s[0]),s=>s[2]);this.stack=h.stack().keys(this.items).value(([,s],r)=>{let d=s.get(r);return d?d[1]:0})(i),this.X=[...i.keys()],this.Y=[0,h.max(this.stack[this.stack.length-1],s=>s[1])],this.setColors(t)}barStrokeWidth(t){return this.options.BAR_STROKE_WIDTH=t,this}bandPadding(t){return this.options.BAND_PADDING=t,this}getDomainX(){return new Set(this.X)}getDomainY(){return this.Y}render(t){this.layout=this.getLayout(t),this.layout.padding=this.getPadding(this.layout),this.createSVG(t,this.layout);let i=this.getRangeY(this.layout),s=i[0]-i[1],r=h.scaleLinear().domain(this.getDomainY()).range(i),d=h.axisLeft(r).tickValues(this.getTickValuesY()).tickFormat(this.tickFormatY).tickSize(0).ticks(this.options.getYTickCount(s)),c=this.getRangeX(this.layout),g=c[1]-c[0],l=h.scaleBand().domain(this.getDomainX()).range(c).padding(this.options.BAND_PADDING).align(.1),Y=D(),u=h.axisBottom(l).tickFormat(Y).tickSizeInner(this.options.X_TICK_SIZE).ticks(this.options.getXTickCount(g));this.svg.append("g").style("font-size",this.options.FONT_SIZE).attr("transform",`translate(0,${this.layout.height-this.layout.padding.bottom+this.options.X_TICK_GUTTER})`).call(u).call(o=>o.select(".domain").remove()),this.svg.append("g").style("font-size",this.options.FONT_SIZE).attr("transform",`translate(${this.layout.padding.left-this.options.Y_TICK_GUTTER},0)`).call(d).call(o=>o.select(".domain").remove()).call(o=>o.selectAll(".tick line").clone().attr("stroke","#888").attr("stroke-opacity",.4).attr("x1",this.options.Y_TICK_GUTTER).attr("x2",this.layout.innerWidth+this.options.Y_TICK_GUTTER)),this.svg.append("g").selectAll().data(this.stack).join("g").attr("fill",o=>this.getColor(o.key)).selectAll("rect").data(o=>o).join("rect").attr("stroke-width",this.options.BAR_STROKE_WIDTH).attr("x",o=>l(o.data[0])).attr("y",o=>r(o[1])).attr("height",o=>r(o[0])-r(o[1])).attr("width",l.bandwidth())}};function v(e,t){return new f(e,t)}return M(G);})();
//# sourceMappingURL=bar.min.js.map
