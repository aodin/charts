var charts=(()=>{var E=Object.create;var g=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var R=Object.getOwnPropertyNames;var b=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty;var A=(s,t,e)=>t in s?g(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var X=(s,t)=>()=>(t||s((t={exports:{}}).exports,t),t.exports),v=(s,t)=>{for(var e in t)g(s,e,{get:t[e],enumerable:!0})},Y=(s,t,e,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of R(t))!w.call(s,o)&&o!==e&&g(s,o,{get:()=>t[o],enumerable:!(r=F(t,o))||r.enumerable});return s};var p=(s,t,e)=>(e=s!=null?E(b(s)):{},Y(t||!s||!s.__esModule?g(e,"default",{value:s,enumerable:!0}):e,s)),N=s=>Y(g({},"__esModule",{value:!0}),s);var x=(s,t,e)=>A(s,typeof t!="symbol"?t+"":t,e);var d=X((L,k)=>{k.exports=d3});var G={};v(G,{Bar:()=>I});var a=p(d());var i=p(d());var D=p(d()),u=class{constructor(t={}){this.ANIMATION_DURATION_MS=500,this.X_TICK_SIZE=4,this.X_TICK_GUTTER=3,this.Y_TICK_SIZE=0,this.Y_TICK_GUTTER=5,this.FONT_SIZE="13px",this.COLORS=D.schemeCategory10,this.BAND_PADDING=.2,this.VOLUME_OPACITY=.6,this.OHLC_COLORS=["#1ebc8c","#b2b2b2","#f34d27"],this.STROKE_WIDTH=1.5,this.HIGHLIGHT_STROKE_WIDTH=2,this.BACKGROUND_OPACITY=.3,this.DOT_RADIUS=3,this.BAR_STROKE_WIDTH=0,this.EVENT_FPS=48,Object.assign(this,t)}get eventLatency(){return parseInt(1e3/this.EVENT_FPS)}};var c=p(d());function S(s,{ratio:t=.2,maxWidth:e=1600,minWidth:r=400,minHeight:o=300}={}){let h=document.querySelector(s),l=c.min([h.offsetWidth,e]);l=c.max([h.offsetWidth,r]);let f=c.max([parseInt(t*l),o]);return[l,f]}var T=class{constructor(t,e={}){x(this,"tickFormatX",null);x(this,"tickFormatY",null);this.options=new u(e),this.data=t,this.parse(t)}getMargin(t,e){return{top:15,right:15,bottom:25,left:45}}getTickValuesX(){return null}getTickValuesY(){return null}parse(t){this.X=this.parseX(t),this.Y=this.parseY(t),this.Z=this.parseZ(t),this.items=new Set(this.Z);let e=(r,o)=>!isNaN(this.X[o])&&!isNaN(this.Y[o]);this.D=i.map(t,e),this.I=i.range(this.X.length),this.grouping=i.group(this.I,r=>this.Z[r]),this.setColors(t)}formatX(t){return t}formatY(t){return t}formatZ(t){return t}parseX(t){return i.map(t,e=>i.isoParse(e[0]))}parseY(t){return i.map(t,e=>e[1])}parseZ(t){return i.map(t,e=>e[2])}getDomainX(){return i.extent(this.X)}getRangeX(t,e){return[e.left,t.width-e.right]}getDomainY(){return i.extent(this.Y)}getRangeY(t,e){return[t.height-e.bottom,e.top]}setColors(t){this.colors=i.scaleOrdinal().domain(this.items).range(this.options.COLORS)}getColor(t){return this.colors(t)}getDimensions(t){return S(t,{ratio:.35})}createSVG(t,e){i.select(t).selectAll("svg").remove(),this.svg=i.select(t).append("svg").attr("viewBox",[0,0,e.width,e.height]).attr("style","max-width: 100%; height: intrinsic;").style("-webkit-tap-highlight-color","transparent").style("font-size",this.options.FONT_SIZE).style("overflow","visible")}clear(){this.svg&&this.svg.selectAll("*").remove()}};var m=p(d()),W=m.utcFormat("%b"),Z=m.utcFormat("%b %-d"),j=m.utcFormat("%b %Y"),K=m.utcFormat("%b %-d, %Y"),$=m.utcFormat("%B %-d, %Y");function y(){let s=null;return function(t){let e=t.getUTCFullYear();return s!==e?(s=e,K(t)):Z(t)}}var I=class extends T{parse(t){this.Z=this.parseZ(t),this.items=new Set(this.Z);let e=a.index(t,r=>a.isoParse(r[0]),r=>r[2]);this.stack=a.stack().keys(this.items).value(([,r],o)=>{let h=r.get(o);return h?h[1]:0})(e),this.X=[...e.keys()],this.Y=[0,a.max(this.stack[this.stack.length-1],r=>r[1])],this.setColors(t)}getDomainX(){return new Set(this.X)}getDomainY(){return this.Y}render(t){let[e,r]=this.getDimensions(t),o={width:e,height:r},h=this.getMargin(e,r);this.createSVG(t,o);let l=a.scaleLinear().domain(this.getDomainY()).range(this.getRangeY(o,h)),f=a.axisLeft(l).tickValues(this.getTickValuesY()).tickFormat(this.tickFormatY).tickSize(0).ticks(8),_=a.scaleBand().domain(this.getDomainX()).range(this.getRangeX(o,h)).padding(this.options.BAND_PADDING).align(.1),C=y(),O=a.axisBottom(_).tickFormat(C).tickSizeInner(this.options.X_TICK_SIZE);this.svg.append("g").style("font-size",this.options.FONT_SIZE).attr("transform",`translate(0,${o.height-h.bottom+this.options.X_TICK_GUTTER})`).call(O).call(n=>n.select(".domain").remove()),this.svg.append("g").style("font-size",this.options.FONT_SIZE).attr("transform",`translate(${h.left-this.options.Y_TICK_GUTTER},0)`).call(f).call(n=>n.select(".domain").remove()).call(n=>n.selectAll(".tick line").clone().attr("stroke","#888").attr("stroke-opacity",.4).attr("x1",this.options.Y_TICK_GUTTER).attr("x2",o.width-h.right-h.left+this.options.Y_TICK_GUTTER)),this.svg.append("g").selectAll().data(this.stack).join("g").attr("fill",n=>this.getColor(n.key)).selectAll("rect").data(n=>n).join("rect").attr("stroke-width",this.options.BAR_STROKE_WIDTH).attr("x",n=>_(n.data[0])).attr("y",n=>l(n[1])).attr("height",n=>l(n[0])-l(n[1])).attr("width",_.bandwidth())}};return N(G);})();
//# sourceMappingURL=bar.min.js.map
