var charts=(()=>{var $=Object.create;var m=Object.defineProperty;var z=Object.getOwnPropertyDescriptor;var G=Object.getOwnPropertyNames;var P=Object.getPrototypeOf,q=Object.prototype.hasOwnProperty;var j=(i,t,e)=>t in i?m(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var Z=(i,t)=>()=>(t||i((t={exports:{}}).exports,t),t.exports),K=(i,t)=>{for(var e in t)m(i,e,{get:t[e],enumerable:!0})},S=(i,t,e,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of G(t))!q.call(i,r)&&r!==e&&m(i,r,{get:()=>t[r],enumerable:!(s=z(t,r))||s.enumerable});return i};var w=(i,t,e)=>(e=i!=null?$(P(i)):{},S(t||!i||!i.__esModule?m(e,"default",{value:i,enumerable:!0}):e,i)),Q=i=>S(m({},"__esModule",{value:!0}),i);var O=(i,t,e)=>j(i,typeof t!="symbol"?t+"":t,e);var f=Z((ct,T)=>{T.exports=d3});var rt={};K(rt,{Candlestick:()=>b,OHLC:()=>nt,OHLCV:()=>at});var n=w(f());var u=w(f()),A=class{constructor(t,e,s,r){this.top=t,this.right=e,this.bottom=s,this.left=r}};function F(){return new A(15,15,25,25)}var x=class{constructor(t,e,s){this.width=t,this.height=e,this.pad=s||F()}get rangeX(){return[this.pad.left,this.width-this.pad.right]}get rangeY(){return[this.height-this.pad.bottom,this.pad.top]}get innerWidth(){return this.width-this.pad.left-this.pad.right}get innerHeight(){return this.height-this.pad.top-this.pad.bottom}get innerMinimum(){return u.min([this.innerWidth,this.innerHeight])}get midpoint(){return[this.width/2,this.height/2]}};function _(i,{minWidth:t=400,maxWidth:e=void 0,minHeight:s=300,maxHeight:r=void 0,screenHeightFraction:l=.5}={}){let h=document.querySelector(i),a=u.max([h.offsetWidth,t]);e&&(a=u.min([a,e]));let o=window.innerHeight*l;return o=u.max([o,s]),r&&(o=u.min([o,r])),new x(a,o,F())}function H(i,t,e){return u.select(i).append("svg").attr("viewBox",[0,0,t,e]).attr("style","max-width: 100%; height: intrinsic;").style("-webkit-tap-highlight-color","transparent").style("overflow","visible")}function y(i,t,e=null){let s=d3.select("body").append("svg").attr("width",i.innerWidth).attr("height",i.innerHeight).style("visibility","hidden"),r=d3.axisLeft(t).tickFormat(e),h=s.append("g").call(r).selectAll(".tick text"),a=0,o=0;return h.each(function(){let c=this.getBoundingClientRect();c.width>a&&(a=c.width),c.height>o&&(o=c.height)}),s.remove(),[a,o]}function D(i,t,e){let s=parseInt(t.innerWidth/(e+1))+1,r=d3.max([parseInt(Math.ceil(i.length/s)),1]);return d3.filter(i,(l,h)=>h%r===0)}var g=w(f()),pt=g.utcFormat("%b"),J=g.utcFormat("%b %-d"),gt=g.utcFormat("%b %Y"),tt=g.utcFormat("%b %-d, %Y"),mt=g.utcFormat("%B %-d, %Y");function X(){let i=null;return function(t){let e=t.getUTCFullYear();return i!==e?(i=e,tt(t)):J(t)}}function V(i,t){var e=!0;return function(){e&&(i.apply(this,arguments),e=!1,setTimeout(()=>{e=!0},t))}}var M=w(f()),yt=new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:0,maximumFractionDigits:2}).format,bt=new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2,signDisplay:"exceptZero"}).format,wt=new Intl.NumberFormat("en-US",{notation:"compact",compactDisplay:"short",minimumFractionDigits:1,maximumFractionDigits:2}).format,it=M.format(",.0f"),L=function(i){if(i)return i>=1e9?`${i/1e9}B`:i>=1e6?`${i/1e6}M`:it(i)};function et(i){return 1+Math.sign(i.o-i.c)}function R(i){return["bar",["up","even","down"][et(i)]].join(" ")}function st(i,t,e,s){let r=s-e+1,l=1;r<i.length&&(l=i.length/r);let h=e/i.length,a=t*l,o=h*a;return[0-o,a-o]}function U(i,t=0,e){return e&&(i=i.slice(t,e+1)),[n.min(n.map(i,r=>r.l)),n.max(n.map(i,r=>r.h))]}function Y(i,t){let e=i.domain(),s=i(e[0]),r=i.step(),l=Math.floor((t-s)/r);return Math.max(0,Math.min(l,e.length-1))}var b=class{constructor(t,e=s=>s){O(this,"formatX","%m %d, %Y");this.config={VOLUME_RATIO:0,LOG_Y:!1,SCREEN_HEIGHT_FRACTION:.5,BAND_PAD:.2,DURATION_MS:500,VOLUME_AXIS_RIGHT:!0,HIDE_VOLUME_AXIS:!1},this.data=n.map(t,e),this.X=n.map(this.data,s=>s.x),this.start=0,this.end=this.data.length-1}get volumeAxesIsVisible(){return!!this.config.VOLUME_RATIO&&!this.config.HIDE_VOLUME_AXIS}get volumeAxesVisibility(){return this.volumeAxesIsVisible?"visible":"hidden"}append(){}animationDuration(t){return this.config.DURATION_MS=t,this}noAnimation(){return this.animationDuration(0)}showVolume(t=.1){return this.config.VOLUME_RATIO=t,this}hideVolume(){return this.showVolume(0)}hideVolumeAxis(){return this.config.HIDE_VOLUME_AXIS=!0,this}defaultLog(){return this.config.LOG_Y=!0,this}defaultLinear(){return this.config.LOG_Y=!1,this}screenHeightFraction(t){return this.config.SCREEN_HEIGHT_FRACTION=t,this}render(t){let e=n.select(t);if(!e.node())throw new Error(`Unable to find a DOM element for selector '${t}'`);if(e.node().tagName==="svg"){this.svg=e;let d=+this.svg.attr("width"),I=+this.svg.attr("height");d&&I?this.layout=new x(d,I):this.layout=_(t,{screenHeightFraction:this.config.SCREEN_HEIGHT_FRACTION})}else this.layout=_(t,{screenHeightFraction:this.config.SCREEN_HEIGHT_FRACTION}),this.svg=H(t,this.layout.width,this.layout.height);let s=this.layout.innerHeight*this.config.VOLUME_RATIO,r=this.layout.innerHeight-s,l=n.max(n.map(this.data,d=>d.v));if(this.scaleVolume=n.scaleLinear().domain([0,l]).range([s,0]).clamp(!0).nice(),this.volumeAxesIsVisible){let[d,I]=y(this.layout,this.scaleVolume,L);this.layout.pad.right=d+5}let h=U(this.data),a=h[0],o=[r,0];this.scaleLog=n.scaleLog().domain(h).range(o).clamp(!0),this.scaleLinear=n.scaleLinear().domain(h).range(o).clamp(!0);let[c,p]=y(this.layout,this.scaleLog),[E,ot]=y(this.layout,this.scaleLinear),N=n.max([c,E]);this.layout.pad.left=N+5,this.svg.append("defs").append("clipPath").attr("id","inner-clip-path").append("rect").attr("width",this.layout.innerWidth).attr("height",this.layout.innerHeight),this.inner=this.svg.append("g").attr("transform",`translate(${this.layout.pad.left}, ${this.layout.pad.top})`),this.scaleX=n.scaleBand(this.X,[0,this.layout.innerWidth]).paddingInner(this.config.BAND_PAD).align(.5);let v=X(),[k,ht]=y(this.layout,this.scaleX,v);this.labelWidthX=k;let C=D(this.X,this.layout,k);v=X(),this.scaleY=this.config.LOG_Y?this.scaleLog:this.scaleLinear;let B=n.axisLeft(this.scaleY).tickSize(0);this.axisX=n.axisBottom(this.scaleX).tickValues(C).tickFormat(v).tickSize(3),this.gPrice=this.inner.append("g").attr("class","y axis").call(B),this.grid=this.inner.append("g").attr("class","grid");let W=this.scaleX.bandwidth()*this.config.BAND_PAD/2;this.gx=this.inner.append("g").attr("class","x axis").attr("transform",`translate(${W+.5},${this.layout.innerHeight})`).call(this.axisX),this.candles=this.inner.append("g").attr("clip-path","url(#inner-clip-path)").attr("stroke","currentColor").attr("stroke-linecap","butt").selectAll("g").data(this.data).join("g").attr("transform",d=>`translate(${this.scaleX(d.x)+this.scaleX.step()/2},0)`),this.wicks=this.candles.append("line").attr("stroke","currentColor").attr("stroke-width",1).attr("class","wick").attr("opacity",.8).attr("y1",this.scaleY(a)).attr("y2",this.scaleY(a)),this.bars=this.candles.append("line").attr("stroke-width",this.scaleX.bandwidth()).attr("class",d=>R(d)).attr("y1",this.scaleY(a)).attr("y2",this.scaleY(a)),this.axisVolume=n.axisRight(this.scaleVolume).ticks(1).tickFormat(L).tickSize(3),this.volume=this.inner.append("g").attr("class","volume").attr("clip-path","url(#inner-clip-path)").attr("transform",`translate(0,${this.layout.innerHeight-s})`),this.volume.append("g").attr("transform",`translate(${this.layout.innerWidth},0)`).call(this.axisVolume).attr("visibility",this.volumeAxesVisibility),this.volumeSlots=this.volume.append("g").attr("stroke","currentColor").attr("stroke-linecap","butt").selectAll("g").data(this.data).join("g").attr("transform",d=>`translate(${this.scaleX(d.x)+this.scaleX.step()/2},0)`),this.volumeBars=this.volumeSlots.append("line").attr("y1",this.scaleVolume(0)).attr("y2",this.scaleVolume(0)).attr("stroke-width",this.scaleX.bandwidth()).attr("class",d=>R(d)),this.brush=n.brushX().extent([[0,0],[this.layout.innerWidth,this.layout.innerHeight]]).on("end",this.zoom.bind(this)),this.gBrush=this.inner.append("g").attr("class","brush").call(this.brush.bind(this)),this.spotlightBar=this.inner.append("g").lower().attr("class","spotlight").append("rect").style("display","none").style("pointer-events","none"),this.update()}useLog(){this.scaleY=this.scaleLog,this.update()}useLinear(){this.scaleY=this.scaleLinear,this.update()}spotlight(t){this.spotlightBar.attr("x",this.scaleX(this.data[t].x)).attr("width",this.scaleX.step()).attr("y",0).attr("height",this.layout.innerHeight).style("display","block")}noSpotlight(){this.spotlightBar.style("display","none")}onEvent(t,e){let s=null,r=h=>{let[a]=n.pointer(h),o=Y(this.scaleX,a-this.layout.pad.left);if(s&&s==o)return;s=o;let c=structuredClone(this.data[o]);if(c.index=o,o>0){let p=this.data[o-1];p&&p.c&&(c.prev=p.c,c.delta=c.c-p.c,c.percent=c.delta/p.c)}t&&t.call(this,c)},l=h=>{s=null,e&&e.call(this)};this.svg.on("pointermove",V(r,20.83)).on("pointerleave",l)}update(){let t=st(this.scaleX.domain(),this.layout.innerWidth,this.start,this.end);this.scaleX.range(t);let e=U(this.data,this.start,this.end);this.scaleLog.domain(e),this.scaleLinear.domain(e);let s=n.axisLeft(this.scaleY),r=D(this.X.slice(this.start,this.end+1),this.layout,this.labelWidthX),l=X();this.axisX.tickValues(r).tickFormat(l);let h=this.scaleX.bandwidth()*this.config.BAND_PAD/2;this.gx.transition().duration(this.config.DURATION_MS).attr("transform",`translate(${h+.5},${this.layout.innerHeight})`).call(this.axisX),this.gPrice.transition().duration(this.config.DURATION_MS).call(s.tickSize(0)),this.grid.transition().duration(this.config.DURATION_MS).call(s.ticks().tickFormat("").tickSize(-this.layout.innerWidth)),this.candles.transition().duration(this.config.DURATION_MS).attr("transform",a=>`translate(${this.scaleX(a.x)+this.scaleX.step()/2},0)`),this.bars.transition().duration(this.config.DURATION_MS).attr("stroke-width",this.scaleX.bandwidth()).attr("y1",a=>this.scaleY(a.o)).attr("y2",a=>this.scaleY(a.c)),this.wicks.transition().duration(this.config.DURATION_MS).attr("y1",a=>this.scaleY(a.l)).attr("y2",a=>this.scaleY(a.h)),this.spotlightBar.transition().duration(this.config.DURATION_MS).attr("x",this.scaleX(this.data[this.end].x)).attr("width",this.scaleX.step()),this.volumeSlots.transition().duration(this.config.DURATION_MS).attr("transform",a=>`translate(${this.scaleX(a.x)+this.scaleX.step()/2},0)`),this.volumeBars.transition().duration(this.config.DURATION_MS).attr("stroke-width",this.scaleX.bandwidth()).attr("y2",a=>this.scaleVolume(a.v||0))}zoom({selection:t}){if(!t)return;let[e,s]=t;[this.start,this.end]=[Y(this.scaleX,e),Y(this.scaleX,s)],this.update(),this.gBrush.call(this.brush.move,null)}reset(){this.start=0,this.end=this.data.length-1,this.update()}};function nt(i,t){return new b(i,t)}function at(i,t){return new b(i,t).showVolume()}return Q(rt);})();
//# sourceMappingURL=candlestick.min.js.map
