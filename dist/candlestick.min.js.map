{
  "version": 3,
  "sources": ["external-global-plugin:d3", "../src/candlestick.js", "../src/layout.js", "../src/ticks.js", "../src/timeseries.js"],
  "sourcesContent": ["module.exports = d3", "import * as d3 from \"d3\";\n\nimport { Layout, getLayout } from \"./layout\";\nimport { maxLabelSize, filterTicks} from \"./ticks\";\nimport { makeDateFormatter } from \"./timeseries\";\n\n\nfunction signOf(d) {\n  // TODO Assumes both are defined\n  return 1 + Math.sign(d.o - d.c);\n}\n\nfunction barClass(d) {\n  // Append a class to the bar depending on its delta\n  const c = [\"up\", \"even\", \"down\"][signOf(d)]\n  return [\"bar\", c].join(\" \");\n}\n\nexport class Candlestick {\n\n  formatX = \"%m %d, %Y\"\n\n  constructor(data) {\n    // Default config\n    this.config = {\n      VOLUME_RATIO: 0.0,\n      LOG_Y: false,\n      SCREEN_HEIGHT_FRACTION: 0.5,\n      BAND_PADDING: 0.2,\n      DURATION_MS: 500,\n    };\n    \n    \n    // TODO How to do extensible data parsing?\n    // Get data in a {d, o, h, l, c, v} format\n    this.data = d3.map(data, d => {\n      return {\n        d: d3.isoParse(d[0]),\n        o: d[1],\n        h: d[2],\n        l: d[3],\n        c: d[4],\n        v: d[5],\n      };\n    });\n\n    // Save min / max?\n\n  }\n\n  // TODO method to append a data point\n  append() {\n    // TODO Apply data formatter function?\n  }\n\n  animationDuration(value) {\n    this.config.DURATION_MS = value;\n    return this;\n  }\n\n  noAnimation() {\n    return this.animationDuration(0);\n  }\n\n  showVolume(ratio = 0.1) {\n    this.config.VOLUME_RATIO = ratio;\n    return this;\n  }\n\n  hideVolume() {\n    return this.showVolume(0.0);\n  }\n\n  defaultLog() {\n    this.config.LOG_Y = true;\n    return this;\n  }\n\n  defaultLinear() {\n    this.config.LOG_Y = false;\n    return this;\n  }\n\n  // Render has three basic states\n  // 1. No SVG element - use width of parent and height of screen\n  // 2. SVG element without size attributes - use width of parent and height of screen\n  //    - But SVG elements don't have a width???\n  // 3. SVG element with size attributes - use those\n  render(selector) {\n    // TODO Detect SVG?\n    this.svg = d3.select(selector);\n\n    const width = +this.svg.attr(\"width\");\n    const height = +this.svg.attr(\"height\");\n\n    if (width && height) {\n      this.layout = new Layout(width, height);\n    } else {\n      this.layout = getLayout(selector, {\n        screenHeightFraction: this.config.SCREEN_HEIGHT_FRACTION,\n      });\n      console.log(this.layout.width, this.layout.height)\n    }\n\n    const volumeHeight = this.layout.innerHeight * this.config.VOLUME_RATIO;\n    const priceHeight = this.layout.innerHeight - volumeHeight;\n\n    const minY = d3.min(d3.map(this.data, d => d.l));\n    let domainY = [minY, d3.max(d3.map(this.data, d => d.h))];\n\n    // TODO Add padding to price domain?\n    // TODO Just use nice?\n    const domainPaddingY = (domainY[1] - domainY[0]) * 0.1;\n    console.log(\"domainPaddingY\", domainPaddingY)\n    domainY = [domainY[0] - domainPaddingY, domainY[1] + domainPaddingY];\n\n    const rangeY = [priceHeight, 0];\n\n    // Axes\n    this.scaleLog = d3.scaleLog().domain(domainY).range(rangeY).clamp(true);\n    this.scaleLinear = d3.scaleLinear().domain(domainY).range(rangeY).clamp(true);\n\n    const rangeX = d3.map(this.data, d => d.d);\n    console.log(\"rangeX\", rangeX)\n\n    // Get the max tick label width for the y-axis on both linear and log scales\n\n    const [logWidth, logHeight] = maxLabelSize(this.layout, this.scaleLog)\n    const [linearWidth, linearHeight] = maxLabelSize(this.layout, this.scaleLinear)\n    const labelWidthY = d3.max([logWidth, linearWidth]);\n\n    console.log(\"Y size:\", labelWidthY)\n\n    // Update the left padding to fit the y-axis labels\n    this.layout.padding.left = labelWidthY + 10;\n\n    // Set the inner display\n    this.inner = this.svg\n      .append(\"g\")\n      .attr(\"transform\", `translate(${this.layout.padding.left}, ${this.layout.padding.top})`);\n\n    // Add g elements for the price and volume portions\n    this.price = this.inner\n      .append(\"g\")\n      .attr(\"transform\", `translate(0,0)`);\n\n    this.volume = this.inner\n      .append(\"g\")\n      .attr(\"transform\", `translate(0,${volumeHeight})`);\n\n    this.scaleX = d3\n      .scaleBand(rangeX, [0, this.layout.innerWidth])\n      .paddingInner(this.config.BAND_PADDING)\n      .align(0.5)\n      .round(true);\n\n    // NOTE The date formatter needs to be created because it uses a\n    // closure to determine a new year\n    let dates = makeDateFormatter();\n\n    // Get the max tick label width for the x-axis\n    const [labelWidth, labelHeight] = maxLabelSize(this.layout, this.scaleX, dates)\n    console.log(\"labelWidth\", labelWidth)\n\n    const X = d3.map(this.data, d => d.d)\n    const filteredX = filterTicks(X, this.layout, labelWidth);\n    console.log(\"TICKS\", filteredX)\n\n    // Reset the date formatter\n    dates = makeDateFormatter();\n\n    // Set the default scale\n    // TODO Pass a render option? Include zoom?\n    const scaleY = this.config.LOG_Y ? this.scaleLog : this.scaleLinear;\n\n    const axisY = d3.axisLeft(scaleY).tickSize(0);\n    const axisX = d3.axisBottom(this.scaleX).tickValues(filteredX).tickFormat(dates);\n\n    this.elemAxisY = this.inner\n      .append(\"g\")\n      .attr(\"class\", \"y axis\")\n      .attr(\"transform\", `translate(0,0)`)\n      .call(axisY)\n      .call((g) =>\n        g\n          .selectAll(\".tick line\")\n          .clone()\n          .attr(\"stroke\", \"#bbb\") // Works for black or white background at 50% opacity\n          .attr(\"stroke-opacity\", 0.5)\n          .attr(\"x1\", 0)\n          .attr(\"x2\", this.layout.innerWidth),\n      );\n\n    const bandPadding = (this.scaleX.bandwidth() * this.config.BAND_PADDING) / 2;\n\n    const elemAxisX = this.inner\n      .append(\"g\")\n      .attr(\"class\", \"x axis\")\n      .attr(\"transform\", `translate(${bandPadding+0.5},${this.layout.innerHeight})`)\n      .call(axisX)\n\n    console.log(\"this.scaleX.step()\", this.scaleX.step())\n    console.log(\"this.scaleX.bandwidth()\", this.scaleX.bandwidth())\n\n    this.candles = this.inner\n      .append(\"g\")\n      .attr(\"stroke\", \"currentColor\")\n      .attr(\"stroke-linecap\", \"butt\") // NOTE using 'square' distorts size\n      .selectAll(\"g\")\n      .data(this.data)\n      .join(\"g\")\n      .attr(\n        \"transform\",\n        (d) => `translate(${this.scaleX(d.d) + this.scaleX.step() / 2.0},0)`,\n      );\n\n    this.wicks = this.candles.append(\"line\")\n      .attr(\"stroke\", \"currentColor\")\n      .attr(\"stroke-width\", 1)\n      .attr(\"class\", \"wick\")\n      .attr(\"opacity\", 0.8)\n      .attr(\"y1\", scaleY(minY))\n      .attr(\"y2\", scaleY(minY))\n\n    this.bars = this.candles.append(\"line\")\n      .attr(\"stroke-width\", this.scaleX.bandwidth())\n      .attr(\"class\", (d) => barClass(d))\n      .attr(\"y1\", scaleY(minY))\n      .attr(\"y2\", scaleY(minY))\n\n    this.updateScale(scaleY);\n\n    // Optional spotlight of a bar\n    // Don't call the class \"tooltip\" - that interferes with Bootstrap\n    this.spotlightBar = this.svg\n      .append(\"g\")\n      .lower()\n      .attr(\"class\", \"spotlight\")\n      .append(\"rect\")\n      .style(\"display\", \"none\")\n      .style(\"pointer-events\", \"none\");\n  }\n\n  updateScale(scale) {\n    this.elemAxisY.transition()\n      .duration(this.config.DURATION_MS)\n      .call(d3.axisLeft(scale).tickSize(0));\n\n    this.bars.transition()\n      .duration(this.config.DURATION_MS)\n      .attr(\"y1\", (d) => scale(d.o))\n      .attr(\"y2\", (d) => scale(d.c));\n\n    this.wicks.transition()\n      .duration(this.config.DURATION_MS)\n      .attr(\"y1\", (d) => scale(d.l))\n      .attr(\"y2\", (d) => scale(d.h));\n  }\n\n  useLog() {\n    this.updateScale(this.scaleLog)\n  }\n\n  useLinear() {\n    this.updateScale(this.scaleLinear)\n  }\n\n  spotlight(index) {\n    this.spotlightBar\n      .attr(\"x\", this.scaleX(this.data[index].d))\n      .attr(\"width\", this.scaleX.bandwidth())\n      .attr(\"y\", this.layout.padding.top)\n      .attr(\"height\", this.layout.innerHeight)\n      .style(\"display\", \"block\");\n  }\n\n  noSpotlight() {\n    this.spotlightBar.style(\"display\", \"none\");\n  }\n}\n\nexport function OHLC(data, options) {\n  return new Candlestick(data, options);\n}\n\nexport function OHLCV(data, options) {\n  return new Candlestick(data, options).showVolume();\n}\n", "import * as d3 from \"d3\";\n\n/*\nMost of the layout operations are placing a rectangle within another rectangle.\nWhat is the most generic way to do this?\n*/\n\nexport class Padding {\n  constructor(top, right, bottom, left) {\n    this.top = top;\n    this.right = right;\n    this.bottom = bottom;\n    this.left = left;\n  }\n}\n\nexport function EqualPadding(value) {\n  return new Padding(value, value, value, value);\n}\n\nexport function DefaultPadding() {\n  return new Padding(15, 15, 25, 25);\n}\n\nexport class Layout {\n  constructor(width, height, padding) {\n    this.width = width;\n    this.height = height;\n    this.padding = padding || DefaultPadding();\n  }\n\n  get rangeX() {\n    return [this.padding.left, this.width - this.padding.right];\n  }\n\n  get rangeY() {\n    return [this.height - this.padding.bottom, this.padding.top];\n  }\n\n  get innerWidth() {\n    return this.width - this.padding.left - this.padding.right;\n  }\n\n  get innerHeight() {\n    return this.height - this.padding.top - this.padding.bottom;\n  }\n\n  get innerMinimum() {\n    return d3.min([this.innerWidth, this.innerHeight]);\n  }\n\n  get midpoint() {\n    return [this.width / 2, this.height / 2];\n  }\n}\n\nexport function getLayout(\n  elem,\n  {\n    minWidth = 400,\n    maxWidth = undefined,\n    minHeight = 300,\n    maxHeight = undefined,\n    screenHeightFraction = 0.5,\n  } = {},\n) {\n  const chart = document.querySelector(elem);\n  console.log(chart.getBoundingClientRect())\n  let width = d3.max([chart.offsetWidth, minWidth]);\n  if (maxWidth) {\n    width = d3.min([width, maxWidth]);\n  }\n\n  let height = window.innerHeight * screenHeightFraction;\n  height = d3.max([height, minHeight]);\n  if (maxHeight) {\n    height = d3.min([height, maxHeight]);\n  }\n  return new Layout(width, height, DefaultPadding());\n}\n\nexport function maxTickWidth(defaults, height, domain, format, options) {\n  // Create a fake axis to test label tick size\n  const hidden = d3\n    .select(\"body\")\n    .append(\"svg\")\n    .attr(\"width\", 100)\n    .attr(\"height\", height)\n    .style(\"visibility\", \"hidden\"); // \"display: none\" does not work\n\n  let scale = d3\n    .scaleLinear()\n    .domain(domain)\n    .range([height - defaults.bottom, defaults.top]);\n\n  let axis = d3\n    .axisLeft(scale)\n    .tickFormat(format) // Can be null\n    .tickSize(0)\n    .ticks(8); // TODO Number of ticks as an option\n\n  const g = hidden.append(\"g\").style(\"font-size\", options.FONT_SIZE).call(axis);\n\n  // Measure the tick labels\n  const labels = g.selectAll(\".tick text\");\n\n  let width = 0;\n  labels.each(function () {\n    const bbox = this.getBoundingClientRect(); // TODO Or getBBox?\n    if (bbox.width > width) {\n      width = bbox.width;\n    }\n  });\n\n  // Remove the axis\n  hidden.remove();\n\n  // Add some padding\n  return width + options.X_TICK_GUTTER + 5;\n}\n", "/*\nTo filter categorical x ticks, we need to:\n1. get the width of the largest x tick label\n2. get the total available width for the axes in the layout\n3. get the interval that will fit that largest label without overlap\n4. filter the available tick labels by the interval\n*/\n\n\nexport function maxLabelSize(layout, scale, format=null) {\n  // Create a fake axis to test label tick size\n  // Does not include the tick size or padding, is just the label with \n  const hidden = d3\n    .select(\"body\")\n    .append(\"svg\")\n    .attr(\"width\", layout.innerWidth)\n    .attr(\"height\", layout.innerHeight)\n    .style(\"visibility\", \"hidden\"); // \"display: none\" does not work\n\n  const axis = d3\n    .axisLeft(scale)\n    .tickFormat(format) // Can be null\n\n  const g = hidden.append(\"g\").call(axis);\n\n  // Measure the tick labels\n  const labels = g.selectAll(\".tick text\");\n\n  let width = 0;\n  let height = 0;\n  labels.each(function () {\n    const bbox = this.getBoundingClientRect(); // TODO Or getBBox?\n    if (bbox.width > width) {\n      width = bbox.width;\n    }\n    if (bbox.height > height) {\n      height = bbox.height;\n    }\n  });\n\n  // Remove the axis\n  hidden.remove();\n  return [width, height];\n}\n\nexport function filterTicks(ticks, layout, labelWidth) {\n  // TODO - allow a max to be set?\n  const count = parseInt(layout.innerWidth / (labelWidth + 1)) + 1;\n  const interval = d3.max([parseInt(Math.ceil(ticks.length / count)), 1]);\n  return d3.filter(ticks, (d, i) => i % interval === 0);\n\n}\n", "import * as d3 from \"d3\";\n\nexport const month = d3.utcFormat(\"%b\");\nexport const monthDay = d3.utcFormat(\"%b %-d\");\nexport const monthYear = d3.utcFormat(\"%b %Y\");\nexport const monthDayYear = d3.utcFormat(\"%b %-d, %Y\");\nexport const fullMonthDayYear = d3.utcFormat(\"%B %-d, %Y\");\n\nexport function makeDateFormatter() {\n  let lastYear = null;\n  return function (d) {\n    const year = d.getUTCFullYear();\n    if (lastYear !== year) {\n      lastYear = year;\n      return monthDayYear(d);\n    }\n    return monthDay(d);\n  };\n}\n\nexport function makeMonthlyDateFormatter() {\n  let lastYear = null;\n  return function (d) {\n    const year = d.getUTCFullYear();\n    if (lastYear !== year) {\n      lastYear = year;\n      return monthYear(d);\n    }\n    return month(d);\n  };\n}\n\nexport function quarter(d) {\n  // Format a Date as a quarter and year\n  const q = parseInt(d.getUTCMonth() / 3) + 1;\n  return `${q}Q ${d.getUTCFullYear()}`;\n}\n\nexport const year = (d) => d.getUTCFullYear();\n"],
  "mappings": "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",
  "names": ["require_d3", "__commonJSMin", "exports", "module", "candlestick_exports", "__export", "Candlestick", "OHLC", "OHLCV", "d3", "d3", "Padding", "top", "right", "bottom", "left", "DefaultPadding", "Padding", "Layout", "width", "height", "padding", "getLayout", "elem", "minWidth", "maxWidth", "minHeight", "maxHeight", "screenHeightFraction", "chart", "maxLabelSize", "layout", "scale", "format", "hidden", "axis", "labels", "width", "height", "bbox", "filterTicks", "ticks", "labelWidth", "count", "interval", "d", "i", "d3", "month", "monthDay", "monthYear", "monthDayYear", "fullMonthDayYear", "makeDateFormatter", "lastYear", "d", "year", "signOf", "d", "barClass", "Candlestick", "data", "__publicField", "value", "ratio", "selector", "width", "height", "Layout", "getLayout", "volumeHeight", "priceHeight", "minY", "domainY", "domainPaddingY", "rangeY", "rangeX", "logWidth", "logHeight", "maxLabelSize", "linearWidth", "linearHeight", "labelWidthY", "dates", "makeDateFormatter", "labelWidth", "labelHeight", "X", "filteredX", "filterTicks", "scaleY", "axisY", "axisX", "g", "bandPadding", "elemAxisX", "scale", "index", "OHLC", "options", "OHLCV"]
}
