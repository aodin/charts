var charts=(()=>{var E=Object.create;var d=Object.defineProperty;var Y=Object.getOwnPropertyDescriptor;var A=Object.getOwnPropertyNames;var w=Object.getPrototypeOf,b=Object.prototype.hasOwnProperty;var K=(s,t,i)=>t in s?d(s,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[t]=i;var N=(s,t)=>()=>(t||s((t={exports:{}}).exports,t),t.exports),Z=(s,t)=>{for(var i in t)d(s,i,{get:t[i],enumerable:!0})},O=(s,t,i,h)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of A(t))!b.call(s,o)&&o!==i&&d(s,o,{get:()=>t[o],enumerable:!(h=Y(t,o))||h.enumerable});return s};var m=(s,t,i)=>(i=s!=null?E(w(s)):{},O(t||!s||!s.__esModule?d(i,"default",{value:s,enumerable:!0}):i,s)),H=s=>O(d({},"__esModule",{value:!0}),s);var S=(s,t,i)=>K(s,typeof t!="symbol"?t+"":t,i);var g=N((L,k)=>{k.exports=d3});var G={};Z(G,{Line:()=>x});var n=m(g());var r=m(g());var v=m(g()),f=class{constructor(t={}){this.ANIMATION_DURATION_MS=500,this.X_TICK_SIZE=4,this.X_TICK_GUTTER=3,this.Y_TICK_SIZE=0,this.Y_TICK_GUTTER=5,this.FONT_SIZE="13px",this.COLORS=v.schemeCategory10,this.BAND_PADDING=.2,this.VOLUME_OPACITY=.6,this.OHLC_COLORS=["#1ebc8c","#b2b2b2","#f34d27"],this.STROKE_WIDTH=1.5,this.HIGHLIGHT_STROKE_WIDTH=2,this.BACKGROUND_OPACITY=.3,this.DOT_RADIUS=3,this.BAR_STROKE_WIDTH=0,this.EVENT_FPS=48,Object.assign(this,t)}get eventLatency(){return parseInt(1e3/this.EVENT_FPS)}};var c=m(g());function R(s,{ratio:t=.2,maxWidth:i=1600,minWidth:h=400,minHeight:o=300}={}){let a=document.querySelector(s),l=c.min([a.offsetWidth,i]);l=c.max([a.offsetWidth,h]);let p=c.max([parseInt(t*l),o]);return[l,p]}var T=class{constructor(t,i={}){S(this,"tickFormatX",null);S(this,"tickFormatY",null);this.options=new f(i),this.data=t,this.parse(t)}getMargin(t,i){return{top:15,right:15,bottom:25,left:45}}getTickValuesX(){return null}getTickValuesY(){return null}parse(t){this.X=this.parseX(t),this.Y=this.parseY(t),this.Z=this.parseZ(t),this.items=new Set(this.Z);let i=(h,o)=>!isNaN(this.X[o])&&!isNaN(this.Y[o]);this.D=r.map(t,i),this.I=r.range(this.X.length),this.grouping=r.group(this.I,h=>this.Z[h]),this.setColors(t)}formatX(t){return t}formatY(t){return t}formatZ(t){return t}parseX(t){return r.map(t,i=>r.isoParse(i[0]))}parseY(t){return r.map(t,i=>i[1])}parseZ(t){return r.map(t,i=>i[2])}getDomainX(){return r.extent(this.X)}getRangeX(t,i){return[i.left,t.width-i.right]}getDomainY(){return r.extent(this.Y)}getRangeY(t,i){return[t.height-i.bottom,i.top]}setColors(t){this.colors=r.scaleOrdinal().domain(this.items).range(this.options.COLORS)}getColor(t){return this.colors(t)}getDimensions(t){return R(t,{ratio:.35})}createSVG(t,i){r.select(t).selectAll("svg").remove(),this.svg=r.select(t).append("svg").attr("viewBox",[0,0,i.width,i.height]).attr("style","max-width: 100%; height: intrinsic;").style("-webkit-tap-highlight-color","transparent").style("font-size",this.options.FONT_SIZE).style("overflow","visible")}clear(){this.svg&&this.svg.selectAll("*").remove()}};function X(s,t){var i=!0;return function(){i&&(s.apply(this,arguments),i=!1,setTimeout(()=>{i=!0},t))}}var x=class extends T{render(t){if(!this.X.length)return;let[i,h]=this.getDimensions(t),o={width:i,height:h},a=this.getMargin(i,h);this.createSVG(t,o),this.xScale=n.scaleUtc().domain(this.getDomainX()).range(this.getRangeX(o,a));let l=n.axisBottom(this.xScale).tickValues(this.getTickValuesX()).tickFormat(this.tickFormatX).tickSizeInner(this.options.X_TICK_SIZE);this.svg.append("g").style("font-size",this.options.FONT_SIZE).attr("transform",`translate(0,${o.height-a.bottom+this.options.Y_TICK_GUTTER})`).call(l).call(e=>e.select(".domain").remove()),this.yScale=n.scaleLinear().domain(this.getDomainY()).range(this.getRangeY(o,a));let p=n.axisLeft(this.yScale).tickValues(this.getTickValuesY()).tickFormat(this.tickFormatY).tickSize(0).ticks(8);this.svg.append("g").style("font-size",this.options.FONT_SIZE).attr("transform",`translate(${a.left-this.options.X_TICK_GUTTER},0)`).call(p).call(e=>e.select(".domain").remove()).call(e=>e.selectAll(".tick line").clone().attr("stroke","#888").attr("stroke-opacity",.4).attr("transform",`translate(${this.options.X_TICK_GUTTER},0)`).attr("x2",o.width-a.left-a.right));let u=n.line().defined(e=>this.D[e]).x(e=>this.xScale(this.X[e])).y(e=>this.yScale(this.Y[e]));this.path=this.svg.append("g").attr("fill","none").attr("stroke-width",this.options.STROKE_WIDTH).selectAll("path").data(this.grouping).join("path").attr("d",([,e])=>u(e)).attr("stroke",([e])=>this.getColor(e)),this.dot=this.svg.append("g").style("display","none"),this.circle=this.dot.append("circle").attr("r",this.options.DOT_RADIUS)}getLegend(){return n.map(this.items,t=>Object.assign({color:this.getColor(t.key)},t))}placeDot(t){let i=this.xScale(this.X[t]),h=this.yScale(this.Y[t]),o=this.Z[t];this.dot.style("display",null).attr("transform",`translate(${i},${h})`),this.circle.attr("fill",this.getColor(o))}hideDot(){this.dot.style("display","none")}noHighlight(){this.path.attr("opacity",1).attr("stroke-width",this.options.STROKE_WIDTH)}highlight(t){this.path.attr("opacity",([i])=>i===t?1:this.options.BACKGROUND_OPACITY).attr("stroke-width",([i])=>i===t?this.options.HIGHLIGHT_STROKE_WIDTH:this.options.STROKE_WIDTH)}enableHover(t,i){let h=null,o=l=>{let[p,u]=n.pointer(l),e=n.least(this.I,D=>Math.hypot(this.xScale(this.X[D])-p,this.yScale(this.Y[D])-u));if(typeof e>"u"||h&&h==e)return;this.placeDot(e);let I=this.X[e],_=this.Y[e],y=this.Z[e],C={x:I,y:_,z:y,dx:this.xScale(I),dy:this.yScale(_),fx:this.formatX(I),fy:this.formatY(_),fz:this.formatZ(y)};t&&t.call(this,C)},a=l=>{this.hideDot(),i&&i.call(this)};this.svg.on("pointermove",X(o,this.options.eventLatency)).on("pointerleave",a).on("touchstart",l=>{o(l),l.preventDefault()})}};return H(G);})();
//# sourceMappingURL=line.min.js.map
